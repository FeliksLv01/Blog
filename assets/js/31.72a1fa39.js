(window.webpackJsonp=window.webpackJsonp||[]).push([[31],{509:function(t,s,a){t.exports=a.p+"assets/img/iframe.19653b88.png"},510:function(t,s,a){t.exports=a.p+"assets/img/samesite-cookie.96f62e99.png"},511:function(t,s,a){t.exports=a.p+"assets/img/syn-flood.153423d4.png"},512:function(t,s,a){t.exports=a.p+"assets/img/middle.b7c0bc25.png"},513:function(t,s,a){t.exports=a.p+"assets/img/tls.96dd4e79.png"},560:function(t,s,a){"use strict";a.r(s);var n=a(2),e=Object(n.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h2",{attrs:{id:"cross-site-scripting-xss"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#cross-site-scripting-xss"}},[t._v("#")]),t._v(" Cross-Site Scripting(XSS)")]),t._v(" "),s("p",[t._v("è·¨ç«™è„šæœ¬æ”»å‡»ï¼ŒæŒ‡æ”»å‡»è€…å°†æ¶æ„è„šæœ¬æ’å…¥åˆ°é¡µé¢ä¸­è¿›è¡Œæ‰§è¡Œã€‚")]),t._v(" "),s("p",[t._v("åŸå› ï¼š")]),t._v(" "),s("ul",[s("li",[t._v("å¼€å‘è€…ç›²ç›®ä¿¡ä»»ç”¨æˆ·æäº¤çš„å†…å®¹")]),t._v(" "),s("li",[t._v("ç›´æ¥ä½¿ç”¨å­—ç¬¦ä¸²ç”Ÿæˆ dom")])]),t._v(" "),s("p",[t._v("ç‰¹ç‚¹ï¼š")]),t._v(" "),s("ul",[s("li",[t._v("é€šå¸¸éš¾ä»¥ä» UI ä¸Šæ„ŸçŸ¥ï¼ˆæš—åœ°æ‰§è¡Œè„šæœ¬ï¼‰")]),t._v(" "),s("li",[t._v("çªƒå–ç”¨æˆ·ä¿¡æ¯ï¼ˆcookie/tokenï¼‰")]),t._v(" "),s("li",[t._v("ç»˜åˆ¶ UIï¼ˆä¾‹å¦‚å¼¹çª—ï¼‰ï¼Œè¯±éª—ç”¨æˆ·ç‚¹å‡»/å¡«å†™è¡¨å•")])]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("async")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("submit")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("ctx")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" content"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" id "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" ctx"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("request"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("body"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æ²¡æœ‰å¯¹cententè¿›è¡Œæ ¡éªŒ")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" db"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("save")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    content"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    id\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("async")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("render")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("ctx")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" content "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" db"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("query")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("id")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" ctx"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("query"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("id\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æ²¡æœ‰å¯¹ centent è¿‡æ»¤")]),t._v("\n  ctx"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("body "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token template-string"}},[s("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("<div>")]),s("span",{pre:!0,attrs:{class:"token interpolation"}},[s("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("content"),s("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("</div>")]),s("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br"),s("span",{staticClass:"line-number"},[t._v("15")]),s("br"),s("span",{staticClass:"line-number"},[t._v("16")]),s("br")])]),s("p",[t._v("æ”»å‡»è€…å¯ä»¥æäº¤ä»¥ä¸‹ä»£ç ï¼Œæ¥å®ç°XSSæ”»å‡»")]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("fetch")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/submit'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("body")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" Json"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("stringify")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("id")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'1'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("content")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token template-string"}},[s("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('<script>alert("xss");<\/script>')]),s("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br")])]),s("h3",{attrs:{id:"stored-xss"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#stored-xss"}},[t._v("#")]),t._v(" Stored XSS")]),t._v(" "),s("ul",[s("li",[t._v("æ¶æ„è„šæœ¬è¢«å­˜åœ¨æ•°æ®åº“ä¸­")]),t._v(" "),s("li",[t._v("è®¿é—®é¡µé¢ -> è¯»æ•°æ® === è¢«æ”»å‡»")]),t._v(" "),s("li",[t._v("å±å®³æœ€å¤§ï¼Œå¯¹å…¨éƒ¨ç”¨æˆ·å¯è§")])]),t._v(" "),s("p",[t._v("ä¸¾ä¸ªä¾‹å­ï¼šå‡å¦‚çˆ±å¥‡è‰ºå—åˆ°äº† xss æ”»å‡»ï¼Œä½ çš„ç”¨æˆ·åå’Œå¯†ç å°±æœ‰å¯èƒ½è¢«çªƒå–ï¼Œä»æ­¤ç”µå•†ç½‘ç«™ä¸Šå°±å¤šäº†ä¸€ä¸ªå…±äº«è´¦æˆ·ã€‚")]),t._v(" "),s("h3",{attrs:{id:"reflected-xss"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#reflected-xss"}},[t._v("#")]),t._v(" Reflected XSS")]),t._v(" "),s("ul",[s("li",[t._v("ä¸æ¶‰åŠæ•°æ®åº“")]),t._v(" "),s("li",[t._v("ä» URL ä¸Šæ”»å‡»ï¼Œæ³¨å…¥åœ¨æœåŠ¡ç«¯å®Œæˆ")])]),t._v(" "),s("p",[t._v("ä¸¾ä¸ªä¾‹å­ï¼š")]),t._v(" "),s("p",[t._v("æœ‰è¿™æ ·ä¸€ä¸ª URL "),s("code",[t._v("host/path/?param=<script>alert('123')<\/script>")])]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("async")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("render")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("ctx")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" param "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" ctx"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("query"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  ctx"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("status "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("200")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  ctx"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("body "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token template-string"}},[s("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("<div>")]),s("span",{pre:!0,attrs:{class:"token interpolation"}},[s("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("param"),s("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("</div>")]),s("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br")])]),s("h3",{attrs:{id:"dom-based-xss"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#dom-based-xss"}},[t._v("#")]),t._v(" DOM-based XSS")]),t._v(" "),s("ul",[s("li",[t._v("ä¸éœ€è¦æœåŠ¡å™¨çš„å‚ä¸")]),t._v(" "),s("li",[t._v("å‘èµ·å’Œæ‰§è¡Œï¼Œå…¨åœ¨æµè§ˆå™¨å®Œæˆ")])]),t._v(" "),s("p",[t._v("URL "),s("code",[t._v("host/path/?param=<script>alert('123')<\/script>")])]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" content "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("URL")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("location"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("href"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("searchParams"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("get")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'params'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" div "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" document"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("createElement")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'div'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ğŸ˜ˆğŸ˜ˆ æ¶æ„è„šæœ¬æ³¨å…¥")]),t._v("\ndiv"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("innerHTML "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" content"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\ndocument"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("body"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("append")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("div"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br")])]),s("h3",{attrs:{id:"mutation-based-xss"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#mutation-based-xss"}},[t._v("#")]),t._v(" Mutation-based XSS")]),t._v(" "),s("ul",[s("li",[t._v("åˆ©ç”¨äº†æµè§ˆå™¨æ¸²æŸ“ DOM çš„ç‰¹æ€§ï¼ˆç‹¬ç‰¹ä¼˜åŒ–ï¼‰")]),t._v(" "),s("li",[t._v("ä¸åŒæµè§ˆå™¨ï¼Œä¼šæœ‰åŒºåˆ«ï¼ˆæŒ‰æµè§ˆå™¨è¿›è¡Œæ”»å‡»ï¼‰")])]),t._v(" "),s("p",[t._v("ä¸‹é¢ä»£ç ä¼šè¢«éƒ¨åˆ†æµè§ˆå™¨ä¼˜åŒ–\n"),s("code",[t._v('<noscript><p title="</noscript><img src=x onerror=alert(1)">')])]),t._v(" "),s("p",[t._v("ä»è€Œå˜æˆ")]),t._v(" "),s("div",{staticClass:"language-html line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-html"}},[s("code",[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("noscript")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("p")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("title")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("\n</noscript>\n<image src="),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v('x"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token special-attr"}},[s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("onerror")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),s("span",{pre:!0,attrs:{class:"token value javascript language-javascript"}},[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("alert")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v('\n  "">"\n')])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br")])]),s("h3",{attrs:{id:"é˜²å¾¡xss"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#é˜²å¾¡xss"}},[t._v("#")]),t._v(" é˜²å¾¡XSS")]),t._v(" "),s("ul",[s("li",[t._v("æ°¸è¿œä¸è¦ç›¸ä¿¡ç”¨æˆ·çš„æäº¤ä¿¡æ¯")]),t._v(" "),s("li",[t._v("ä¸è¦å°†ç”¨æˆ·æäº¤çš„å†…å®¹ç›´æ¥è½¬æ¢æˆDOM")])]),t._v(" "),s("p",[t._v("å‰ç«¯ï¼š")]),t._v(" "),s("ul",[s("li",[t._v("ä¸»æµæ¡†æ¶é»˜è®¤é˜²å¾¡XSS")]),t._v(" "),s("li",[t._v("google-closure-library")])]),t._v(" "),s("p",[t._v("æœåŠ¡ç«¯ï¼ˆNodeï¼‰")]),t._v(" "),s("ul",[s("li",[t._v("DOMPurify")])]),t._v(" "),s("p",[t._v("ä»è¦æ³¨æ„ä¸€ä¸‹éƒ¨åˆ†ï¼š")]),t._v(" "),s("ul",[s("li",[t._v("string -> DOM")]),t._v(" "),s("li",[t._v("ä¸Šä¼ SVG")]),t._v(" "),s("li",[t._v("è‡ªå®šä¹‰è·³è½¬é“¾æ¥")]),t._v(" "),s("li",[t._v("è‡ªå®šä¹‰æ ·å¼ï¼ˆä¾‹å¦‚ï¼šbackground: url(xxx)ï¼‰")])]),t._v(" "),s("h2",{attrs:{id:"cross-site-request-forgery-csrf"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#cross-site-request-forgery-csrf"}},[t._v("#")]),t._v(" Cross-site request forgery(CSRF)")]),t._v(" "),s("p",[t._v("è·¨ç«™ä¼ªé€ è¯·æ±‚")]),t._v(" "),s("ul",[s("li",[t._v("åœ¨ç”¨æˆ·ä¸çŸ¥æƒ…çš„å‰æä¸‹")]),t._v(" "),s("li",[t._v("åˆ©ç”¨ç”¨æˆ·çš„æƒé™ï¼ˆcookieï¼‰")]),t._v(" "),s("li",[t._v("æ„é€ æŒ‡å®š HTTP è¯·æ±‚ï¼Œçªƒå–æˆ–ä¿®æ”¹ç”¨æˆ·æ•æ„Ÿä¿¡æ¯")])]),t._v(" "),s("p",[t._v("ä¸»åŠ¨è¯·æ±‚")]),t._v(" "),s("div",{staticClass:"language-html line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-html"}},[s("code",[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("a")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("href")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("https://bank.com/transfer?to=hacker&amount=100"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("ç‚¹æˆ‘æŠ½å¥–"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("a")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("p",[t._v("è¢«åŠ¨è¯·æ±‚")]),t._v(" "),s("div",{staticClass:"language-html line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-html"}},[s("code",[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("img")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token special-attr"}},[s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("style")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v(" display:none;"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("src")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("https://bank.com/transfer?to=hacker&amount=100"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("h3",{attrs:{id:"same-origin-policy"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#same-origin-policy"}},[t._v("#")]),t._v(" Same-origin Policy")]),t._v(" "),s("p",[t._v("HTTPè¯·æ±‚ï¼šåŒæºğŸ‘Œ")]),t._v(" "),s("ul",[s("li",[t._v("åè®®")]),t._v(" "),s("li",[t._v("åŸŸå")]),t._v(" "),s("li",[t._v("ç«¯å£")])]),t._v(" "),s("h3",{attrs:{id:"content-security-policy-csp"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#content-security-policy-csp"}},[t._v("#")]),t._v(" Content Security Policy(CSP)")]),t._v(" "),s("ul",[s("li",[t._v("å“ªäº›æº(åŸŸå)è¢«è®¤ä¸ºæ˜¯å®‰å…¨çš„")]),t._v(" "),s("li",[t._v("æ¥è‡ªå®‰å…¨æºçš„è„šæœ¬å¯ä»¥æ‰§è¡Œï¼Œå¦åˆ™ç›´æ¥æŠ›é”™")]),t._v(" "),s("li",[t._v("å¯¹eval + inline scriptè¯´ ğŸš«")])]),t._v(" "),s("p",[t._v("é€šè¿‡é…ç½®æœåŠ¡å™¨è¯·æ±‚å¤´éƒ¨")]),t._v(" "),s("div",{staticClass:"language-shell line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[t._v("Content-Security"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("Policy: script-src "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'self'")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#åŒæº")]),t._v("\nContent-Security"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("Policy: script-src "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'self'")]),t._v(" https://domain.com\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br")])]),s("p",[t._v("æµè§ˆå™¨meta")]),t._v(" "),s("div",{staticClass:"language-html line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-html"}},[s("code",[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("meta")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("http-equiv")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("Content-Security-Policy"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("content")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("script-src self"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("h3",{attrs:{id:"csrfçš„é˜²å¾¡"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#csrfçš„é˜²å¾¡"}},[t._v("#")]),t._v(" CSRFçš„é˜²å¾¡")]),t._v(" "),s("p",[t._v("æ¨èåœ¨ä¸­é—´ä»¶ä¸­ï¼Œå¯¹csrfè¿›è¡Œç»Ÿä¸€å¤„ç†ï¼Œä¾‹å¦‚Spring Securityï¼Œå¯ä»¥å®šä¹‰è¯·æ±‚çš„fliterã€‚")]),t._v(" "),s("ul",[s("li",[t._v("é™åˆ¶è¯·æ±‚çš„Originå’ŒRefererï¼ˆåŒæºè¯·æ±‚ä¸­ï¼ŒGET+HEADä¸å‘é€Originéœ€è¦ç‰¹åˆ«å¤„ç†ï¼‰")]),t._v(" "),s("li",[t._v("ä½¿ç”¨tokenï¼Œtokenå’Œç”¨æˆ·ç»‘å®šï¼Œè¦æœ‰è¿‡æœŸæ—¶é—´")]),t._v(" "),s("li",[t._v("GET !== GET + POST å†™æ¥å£ä¸è¦å·æ‡’")])]),t._v(" "),s("h4",{attrs:{id:"iframeæ”»å‡»"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#iframeæ”»å‡»"}},[t._v("#")]),t._v(" iframeæ”»å‡»")]),t._v(" "),s("p",[s("img",{attrs:{src:a(509),alt:"iframeæ”»å‡»"}})]),t._v(" "),s("h4",{attrs:{id:"samesite-cookie"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#samesite-cookie"}},[t._v("#")]),t._v(" SameSite Cookie")]),t._v(" "),s("p",[s("img",{attrs:{src:a(510),alt:"SameSite Cookie"}})]),t._v(" "),s("h2",{attrs:{id:"injection"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#injection"}},[t._v("#")]),t._v(" Injection")]),t._v(" "),s("h3",{attrs:{id:"sql-injection"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#sql-injection"}},[t._v("#")]),t._v(" SQL Injection")]),t._v(" "),s("p",[t._v("è¯·æ±‚æºå¸¦sqlå‚æ•°ï¼ˆæ¶æ„æ³¨å…¥ï¼‰-> serveræ‹¼æ¥å‚æ•°ï¼Œè¿è¡Œsql code -> è·å–æ•°æ®ã€åˆ é™¤æ•°æ®ã€ä¿®æ”¹æ•°æ®")]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// è¯»å–è¯·æ±‚å­—æ®µï¼Œä»¥å­—ç¬¦ä¸²æ‹¼æ¥SQL")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("async")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("renderForm")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("ctx")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" username"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" form_id "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" ctx"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("query"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" result "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" sql"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("query")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token template-string"}},[s("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("\n    SELECT a, b, c FROM table\n    WHERE username = ")]),s("span",{pre:!0,attrs:{class:"token interpolation"}},[s("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("username"),s("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("\n    AND form_id = ")]),s("span",{pre:!0,attrs:{class:"token interpolation"}},[s("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("form_id"),s("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("\n  ")]),s("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  ctx"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("body "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("renderForm")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("result"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br")])]),s("p",[t._v("æ”»å‡»è€…å¦‚æœæäº¤ä»¥ä¸‹ä»£ç ï¼š")]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("fetch")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/api"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("method")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"POST"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("headers")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"Content-Type"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"applicaiton/json"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("body")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("JSON")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("stringify")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("username")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"any; DROP TABLE table;"')]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br")])]),s("p",[t._v("è¿™å°±ä¼šå˜æˆä¸‹é¢çš„sqlè¯­å¥")]),t._v(" "),s("div",{staticClass:"language-sql line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-sql"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("SELECT")]),t._v(" XXX "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("FROM")]),t._v(" XXX"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("DROP")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("TABLE")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("table")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("p",[t._v("ğŸ‰ï¼šè¢«åŠ¨åˆ åº“è·‘è·¯æˆå°±è¾¾æˆ âœ…")]),t._v(" "),s("h3",{attrs:{id:"injection-ä¸è‡³äº-sql"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#injection-ä¸è‡³äº-sql"}},[t._v("#")]),t._v(" Injection ä¸è‡³äº SQL")]),t._v(" "),s("ul",[s("li",[t._v("CLI")]),t._v(" "),s("li",[t._v("OS command")]),t._v(" "),s("li",[t._v("Server-Side Request Forgery(SSRF)ï¼ŒæœåŠ¡ç«¯ä¼ªé€ è¯·æ±‚ï¼ˆä¸¥æ ¼æ¥è¯´SSRFä¸æ˜¯æ³¨å…¥ï¼Œä½†æ˜¯åŸç†ç±»ä¼¼ï¼‰")])]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("async")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("convertVideo")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("ctx")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" video"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" options "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" ctx"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("request"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("body"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("exec")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token template-string"}},[s("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("convert-cli ")]),s("span",{pre:!0,attrs:{class:"token interpolation"}},[s("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("video"),s("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v(" -o ")]),s("span",{pre:!0,attrs:{class:"token interpolation"}},[s("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("options"),s("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),s("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  ctx"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("body "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"ok"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br")])]),s("p",[t._v("é‚£è¿™å°±å¾ˆå±é™©äº†ï¼Œæ¯”å¦‚ï¼š")]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("fetch")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/api"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("method")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"POST"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("body")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("JSON")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("stringify")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("options")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token template-string"}},[s("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("&& rm -rf xxx")]),s("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br")])]),s("p",[t._v("è¿˜æœ‰ä¾‹å¦‚æœåŠ¡å™¨æš´éœ²äº†ä¸€äº›é‡è¦æ–‡ä»¶ï¼Œæ¯”å¦‚nginxçš„é…ç½®æ–‡ä»¶ï¼Œé‚£ä¹ˆæ”»å‡»è€…å°±å¯ä»¥å°†è¯·æ±‚ä¿®æ”¹æˆå‰å¾€ç¬¬ä¸‰æ–¹æœåŠ¡å™¨")]),t._v(" "),s("h4",{attrs:{id:"ssrf-demo"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ssrf-demo"}},[t._v("#")]),t._v(" SSRF demo")]),t._v(" "),s("p",[t._v("è¯·æ±‚ç”¨æˆ·è‡ªå®šä¹‰çš„callback urlï¼Œä»è€Œå¯¼è‡´å†…ç½‘å†…å®¹çš„æ³„éœ²")]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("async")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("webHook")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("ctx")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//callback å¯èƒ½æ˜¯å†…ç½‘url")]),t._v("\n  ctx"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("body "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("fetch")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ctx"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("query"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("callback"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br")])]),s("h3",{attrs:{id:"é˜²å¾¡injection"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#é˜²å¾¡injection"}},[t._v("#")]),t._v(" é˜²å¾¡Injection")]),t._v(" "),s("h4",{attrs:{id:"sql"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#sql"}},[t._v("#")]),t._v(" SQL")]),t._v(" "),s("ul",[s("li",[t._v("æ‰¾åˆ°é¡¹ç›®ä¸­æŸ¥è¯¢ SQL çš„åœ°æ–¹")]),t._v(" "),s("li",[t._v("ä½¿ç”¨ prepared statement")])]),t._v(" "),s("h4",{attrs:{id:"beyond-sql"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#beyond-sql"}},[t._v("#")]),t._v(" beyond SQL")]),t._v(" "),s("ul",[s("li",[t._v("æœ€å°æƒé™åŸåˆ™ï¼šç¦æ­¢ sudo || root")]),t._v(" "),s("li",[t._v("å»ºç«‹å…è®¸åå• + è¿‡æ»¤ ï¼š rm")]),t._v(" "),s("li",[t._v("å¯¹ URL ç±»å‹å‚æ•°è¿›è¡Œåè®®ã€åŸŸåã€ipç­‰é™åˆ¶ï¼šç¦æ­¢è®¿é—®å†…ç½‘")])]),t._v(" "),s("h2",{attrs:{id:"denial-of-service-dos"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#denial-of-service-dos"}},[t._v("#")]),t._v(" Denial of Service(DoS)")]),t._v(" "),s("blockquote",[s("p",[t._v("æœåŠ¡æ‹’ç»ï¼šé€šè¿‡æŸç§æ–¹å¼ï¼ˆæ„é€ ç‰¹å®šè¯·æ±‚ï¼‰ï¼Œå¯¼è‡´æœåŠ¡å™¨èµ„æºè¢«æ˜¾è‘—æ¶ˆè€—ï¼Œæ¥ä¸åŠå“åº”æ›´å¤šè¯·æ±‚ï¼Œå¯¼è‡´è¯·æ±‚æŒ¤å‹ï¼Œè¿›è€Œé›ªå´©æ•ˆåº”ã€‚")])]),t._v(" "),s("h3",{attrs:{id:"redos-åŸºäºæ­£åˆ™è¡¨è¾¾å¼çš„-dos"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#redos-åŸºäºæ­£åˆ™è¡¨è¾¾å¼çš„-dos"}},[t._v("#")]),t._v(" ReDoS: åŸºäºæ­£åˆ™è¡¨è¾¾å¼çš„ DoS")]),t._v(" "),s("p",[t._v("æ­£åˆ™è¡¨è¾¾å¼ï¼š "),s("code",[t._v("/^((ab)*)+$/")]),t._v("\nå­—ç¬¦ä¸²ï¼š"),s("code",[t._v("abababababababa")])]),t._v(" "),s("p",[t._v("æœ«å°¾çš„aä¼šå¯¼è‡´ä¸æ–­è¿›è¡ŒåŒ¹é…ï¼Œä»è€Œä½¿å¾—å“åº”æ—¶é—´å¢åŠ ï¼Œæ¥å£ååé‡å‡å°‘ã€‚")]),t._v(" "),s("h3",{attrs:{id:"distributed-dos-ddos"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#distributed-dos-ddos"}},[t._v("#")]),t._v(" Distributed DoS(DDoS)")]),t._v(" "),s("p",[t._v("çŸ­æ—¶é—´å†…ï¼Œæ¥è‡ªå¤§é‡åƒµå°¸è®¾å¤‡çš„è¯·æ±‚æµé‡ï¼ŒæœåŠ¡å™¨ä¸èƒ½åŠæ—¶å®Œæˆå…¨éƒ¨è¯·æ±‚ï¼Œå¯¼è‡´è¯·æ±‚å †ç§¯ï¼Œè¿›è€Œé›ªå´©æ•ˆåº”ï¼Œæ— æ³•å“åº”æ–°è¯·æ±‚ã€‚")]),t._v(" "),s("p",[s("strong",[t._v("ã€Œä¸æå¤æ‚çš„ï¼Œé‡å¤§å°±å®Œäº‹å„¿äº†ã€")])]),t._v(" "),s("p",[t._v("æ”»å‡»ç‰¹ç‚¹")]),t._v(" "),s("ul",[s("li",[t._v("ç›´æ¥è®¿é—® IP")]),t._v(" "),s("li",[t._v("ä»»æ„ API")]),t._v(" "),s("li",[t._v("æ¶ˆè€—å¤§é‡å¸¦å®½ï¼ˆè€—å°½ï¼‰")])]),t._v(" "),s("h4",{attrs:{id:"syn-flood"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#syn-flood"}},[t._v("#")]),t._v(" SYN Flood")]),t._v(" "),s("p",[s("img",{attrs:{src:a(511),alt:"SYN Flood"}})]),t._v(" "),s("h3",{attrs:{id:"é˜²å¾¡ddos"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#é˜²å¾¡ddos"}},[t._v("#")]),t._v(" é˜²å¾¡DDoS")]),t._v(" "),s("ul",[s("li",[t._v("æµé‡æ²»ç†\n"),s("ul",[s("li",[t._v("è´Ÿè½½å‡è¡¡")]),t._v(" "),s("li",[t._v("APIç½‘å…³")]),t._v(" "),s("li",[t._v("CDN")])])]),t._v(" "),s("li",[t._v("å¿«é€Ÿè‡ªåŠ¨æ‰©å®¹")]),t._v(" "),s("li",[t._v("éæ ¸å¿ƒæœåŠ¡é™çº§")])]),t._v(" "),s("h2",{attrs:{id:"ä¼ è¾“å±‚æ”»å‡»"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ä¼ è¾“å±‚æ”»å‡»"}},[t._v("#")]),t._v(" ä¼ è¾“å±‚æ”»å‡»")]),t._v(" "),s("h3",{attrs:{id:"ä¸­é—´äººæ”»å‡»"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ä¸­é—´äººæ”»å‡»"}},[t._v("#")]),t._v(" ä¸­é—´äººæ”»å‡»")]),t._v(" "),s("p",[s("img",{attrs:{src:a(512),alt:"ä¸­é—´äººæ”»å‡»"}}),t._v("\nåŸå› ï¼š")]),t._v(" "),s("ul",[s("li",[t._v("æ˜æ–‡ä¼ è¾“")]),t._v(" "),s("li",[t._v("ä¿¡æ¯ç¯¡æ”¹ä¸å¯çŸ¥")]),t._v(" "),s("li",[t._v("å¯¹æ–¹èº«ä»½æœªéªŒè¯")])]),t._v(" "),s("h3",{attrs:{id:"é˜²å¾¡ä¸­é—´äºº"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#é˜²å¾¡ä¸­é—´äºº"}},[t._v("#")]),t._v(" é˜²å¾¡ä¸­é—´äºº")]),t._v(" "),s("p",[t._v("HTTPS")]),t._v(" "),s("ul",[s("li",[t._v("å¯é æ€§ï¼šåŠ å¯†")]),t._v(" "),s("li",[t._v("å®Œæ•´æ€§ï¼šMACéªŒè¯")]),t._v(" "),s("li",[t._v("ä¸å¯æŠµèµ–æ€§ï¼šæ•°å­—ç­¾å")])]),t._v(" "),s("h4",{attrs:{id:"tls-1-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#tls-1-2"}},[t._v("#")]),t._v(" TLS 1.2")]),t._v(" "),s("p",[s("img",{attrs:{src:a(513),alt:"TLS 1.2"}})]),t._v(" "),s("h4",{attrs:{id:"httpså®Œæ•´æ€§"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#httpså®Œæ•´æ€§"}},[t._v("#")]),t._v(" HTTPSå®Œæ•´æ€§")]),t._v(" "),s("p",[t._v("ä¼ è¾“å†…å®¹ï¼šåŠ å¯†ä¿¡æ¯ + åŠ å¯†ä¿¡æ¯_hash")]),t._v(" "),s("p",[t._v("å¯¹hashå€¼è¿›è¡Œæ ¡éªŒ")]),t._v(" "),s("h4",{attrs:{id:"æ•°å­—ç­¾å"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#æ•°å­—ç­¾å"}},[t._v("#")]),t._v(" æ•°å­—ç­¾å")]),t._v(" "),s("p",[t._v("ç­¾åæ‰§è¡Œè€…æœ‰ä¸¤æ ·ä¸œè¥¿:")]),t._v(" "),s("ul",[s("li",[t._v("privateKey")]),t._v(" "),s("li",[t._v("publicKey")])]),t._v(" "),s("p",[t._v("ç§é’¥ + å†…å®¹ ---\x3e signature")]),t._v(" "),s("p",[t._v("publicKey: åˆ¤æ–­ signatureæ˜¯å¦æ˜¯ä½¿ç”¨privateKeyç”Ÿæˆçš„")]),t._v(" "),s("p",[t._v("æµè§ˆå™¨éªŒè¯è¯ä¹¦å’ŒCAï¼ˆCertificate Authority è¯ä¹¦æœºæ„ï¼‰çš„publicKeyã€‚")]),t._v(" "),s("blockquote",[s("p",[t._v("å½“ç­¾åç®—æ³•ä¸å¤Ÿå¥å£®çš„æ—¶å€™ï¼Œåˆå¯èƒ½ä¼šè¢«æš´åŠ›ç ´è§£ã€‚")])]),t._v(" "),s("h4",{attrs:{id:"http-strict-transport-security-hsts"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#http-strict-transport-security-hsts"}},[t._v("#")]),t._v(" HTTP Strict- -Transport- Security(HSTS)")]),t._v(" "),s("p",[t._v("HSTS æ˜¯ HTTP ä¸¥æ ¼ä¼ è¾“å®‰å…¨ï¼ˆHTTP Strict Transport Securityï¼‰ çš„ç¼©å†™ã€‚ è¿™æ˜¯ä¸€ç§ç½‘ç«™ç”¨æ¥å£°æ˜ä»–ä»¬åªèƒ½ä½¿ç”¨å®‰å…¨è¿æ¥ï¼ˆHTTPSï¼‰è®¿é—®çš„æ–¹æ³•ã€‚ å¦‚æœä¸€ä¸ªç½‘ç«™å£°æ˜äº† HSTS ç­–ç•¥ï¼Œæµè§ˆå™¨å¿…é¡»æ‹’ç»æ‰€æœ‰çš„ HTTP è¿æ¥å¹¶é˜»æ­¢ç”¨æˆ·æ¥å—ä¸å®‰å…¨çš„ SSL è¯ä¹¦ã€‚ ç›®å‰å¤§å¤šæ•°ä¸»æµæµè§ˆå™¨éƒ½æ”¯æŒ HSTS (åªæœ‰ä¸€äº›ç§»åŠ¨æµè§ˆå™¨æ— æ³•ä½¿ç”¨å®ƒ)ã€‚")]),t._v(" "),s("h4",{attrs:{id:"subresource-integrity-sri"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#subresource-integrity-sri"}},[t._v("#")]),t._v(" Subresource Integrity(SRI)")]),t._v(" "),s("p",[t._v("é™æ€èµ„æºä¸€èˆ¬æ”¾åˆ°CDNï¼Œå¦‚æœCDNè¢«åŠ«æŒï¼Œæˆ‘ä»¬å¯ä»¥å¯¹æ¯”hashã€‚")]),t._v(" "),s("div",{staticClass:"language-html line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-html"}},[s("code",[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("script")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("src")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("https://example.com/app.js"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("integrity")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("sha384-{some-hash-value}"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("crossorigin")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("anonymous"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token script"}}),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("script")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("p",[t._v("éªŒè¯ä¼ªä»£ç ")]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" remoteHash "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("hash")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("content"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("tagHash "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!=")]),t._v(" remoteHash"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("throw")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Error")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"wrong hash"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br")])]),s("h4",{attrs:{id:"feature-policy-permission-policy"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#feature-policy-permission-policy"}},[t._v("#")]),t._v(" Feature Policy/Permission Policy")]),t._v(" "),s("p",[t._v("é™åˆ¶ä¸€ä¸ªæºï¼ˆé¡µé¢ï¼‰ä¸‹ï¼Œå¯ä»¥ä½¿ç”¨å“ªäº›åŠŸèƒ½ï¼š")]),t._v(" "),s("ul",[s("li",[t._v("camera")]),t._v(" "),s("li",[t._v("microphone")]),t._v(" "),s("li",[t._v("autoplay")])]),t._v(" "),s("div",{staticClass:"language-html line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-html"}},[s("code",[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("iframe")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("allow")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("xxx"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("h2",{attrs:{id:"é˜…è¯»ææ–™"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#é˜…è¯»ææ–™"}},[t._v("#")]),t._v(" é˜…è¯»ææ–™")]),t._v(" "),s("ul",[s("li",[s("a",{attrs:{href:"https://aws.amazon.com/cn/shield/ddos-attack-protection/",target:"_blank",rel:"noopener noreferrer"}},[t._v("DDoSæ”»å‡»æ˜¯ä»€ä¹ˆ_DDoSæ˜¯ä»€ä¹ˆ_DDoSäº‘é˜²å¾¡-AWSäº‘æœåŠ¡ (amazon.com)"),s("OutboundLink")],1)]),t._v(" "),s("li",[s("a",{attrs:{href:"https://github.com/AngusFu/diary/issues/32",target:"_blank",rel:"noopener noreferrer"}},[t._v("å…³äº Web å®‰å…¨çªç„¶æƒ³åˆ°çš„ Â· Issue #32 Â· AngusFu/diary (github.com)"),s("OutboundLink")],1)]),t._v(" "),s("li",[s("a",{attrs:{href:"https://imnerd.org/samesite.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("SameSite é‚£äº›äº‹ | æ€¡çº¢é™¢è½ (imnerd.org)"),s("OutboundLink")],1)]),t._v(" "),s("li",[s("a",{attrs:{href:"https://www.amazon.com/Web-Application-Security-Exploitation-Countermeasures/dp/1492053112/ref=sr_1_3?crid=3KZBER4W7Z6JF&dchild=1&keywords=web+security&qid=1627822659&sprefix=web+secu%2Caps%2C360&sr=8-3",target:"_blank",rel:"noopener noreferrer"}},[t._v("Amazon.com: Web Application Security: Exploitation and Countermeasures for Modern Web Applications: 9781492053118: Hoffman, Andrew: Books"),s("OutboundLink")],1)])])])}),[],!1,null,null,null);s.default=e.exports}}]);