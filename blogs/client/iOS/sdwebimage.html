<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>SDWebImage源码阅读 | FeliksLv的博客</title>
    <meta name="generator" content="VuePress 1.9.10">
    <link rel="icon" href="/favicon.png">
    <meta name="description" content="记录学习过程，分享生活琐碎。">
    <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no">
    
    <link rel="preload" href="/assets/css/0.styles.9d8bef43.css" as="style"><link rel="preload" href="/assets/js/app.fc150009.js" as="script"><link rel="preload" href="/assets/js/7.da247ea6.js" as="script"><link rel="preload" href="/assets/js/2.949693ee.js" as="script"><link rel="preload" href="/assets/js/1.ccfb4704.js" as="script"><link rel="preload" href="/assets/js/71.eaab3d41.js" as="script"><link rel="prefetch" href="/assets/js/10.7e499b43.js"><link rel="prefetch" href="/assets/js/11.c32c4370.js"><link rel="prefetch" href="/assets/js/14.995d6972.js"><link rel="prefetch" href="/assets/js/15.f4976598.js"><link rel="prefetch" href="/assets/js/16.e0696833.js"><link rel="prefetch" href="/assets/js/17.832709d7.js"><link rel="prefetch" href="/assets/js/18.ccd511c3.js"><link rel="prefetch" href="/assets/js/19.6b109ecc.js"><link rel="prefetch" href="/assets/js/20.a7d15486.js"><link rel="prefetch" href="/assets/js/21.aa4d25f4.js"><link rel="prefetch" href="/assets/js/22.84a3d5c2.js"><link rel="prefetch" href="/assets/js/23.ac55b99a.js"><link rel="prefetch" href="/assets/js/24.12690ca0.js"><link rel="prefetch" href="/assets/js/25.33446a01.js"><link rel="prefetch" href="/assets/js/26.10737df6.js"><link rel="prefetch" href="/assets/js/27.41dce123.js"><link rel="prefetch" href="/assets/js/28.830b5dca.js"><link rel="prefetch" href="/assets/js/29.e20e919c.js"><link rel="prefetch" href="/assets/js/3.07db8dcb.js"><link rel="prefetch" href="/assets/js/30.cfb7728e.js"><link rel="prefetch" href="/assets/js/31.334e9258.js"><link rel="prefetch" href="/assets/js/32.02287ed4.js"><link rel="prefetch" href="/assets/js/33.77c00f9f.js"><link rel="prefetch" href="/assets/js/34.2e5925a3.js"><link rel="prefetch" href="/assets/js/35.11512da3.js"><link rel="prefetch" href="/assets/js/36.d06c0651.js"><link rel="prefetch" href="/assets/js/37.7b17c796.js"><link rel="prefetch" href="/assets/js/38.11702b7d.js"><link rel="prefetch" href="/assets/js/39.39bc10ce.js"><link rel="prefetch" href="/assets/js/4.7c02e643.js"><link rel="prefetch" href="/assets/js/40.9ef2d53e.js"><link rel="prefetch" href="/assets/js/41.c155cadb.js"><link rel="prefetch" href="/assets/js/42.596eb611.js"><link rel="prefetch" href="/assets/js/43.0a1c213d.js"><link rel="prefetch" href="/assets/js/44.104ad7ee.js"><link rel="prefetch" href="/assets/js/45.509d19f7.js"><link rel="prefetch" href="/assets/js/46.9a8b7336.js"><link rel="prefetch" href="/assets/js/47.dc123186.js"><link rel="prefetch" href="/assets/js/48.09b0d58c.js"><link rel="prefetch" href="/assets/js/49.40d366ad.js"><link rel="prefetch" href="/assets/js/5.942d9f76.js"><link rel="prefetch" href="/assets/js/50.6d376083.js"><link rel="prefetch" href="/assets/js/51.478268c9.js"><link rel="prefetch" href="/assets/js/52.47eaad63.js"><link rel="prefetch" href="/assets/js/53.305aeb78.js"><link rel="prefetch" href="/assets/js/54.725c2ba9.js"><link rel="prefetch" href="/assets/js/55.7f3d398f.js"><link rel="prefetch" href="/assets/js/56.88dfc5e4.js"><link rel="prefetch" href="/assets/js/57.f8a9f432.js"><link rel="prefetch" href="/assets/js/58.f8f74f5b.js"><link rel="prefetch" href="/assets/js/59.746275d5.js"><link rel="prefetch" href="/assets/js/6.3c36c95d.js"><link rel="prefetch" href="/assets/js/60.9b942397.js"><link rel="prefetch" href="/assets/js/61.7a479f7e.js"><link rel="prefetch" href="/assets/js/62.212c457d.js"><link rel="prefetch" href="/assets/js/63.6aa318fd.js"><link rel="prefetch" href="/assets/js/64.d9e30b06.js"><link rel="prefetch" href="/assets/js/65.4159b2a6.js"><link rel="prefetch" href="/assets/js/66.a9fb77c5.js"><link rel="prefetch" href="/assets/js/67.047a902f.js"><link rel="prefetch" href="/assets/js/68.d3d70b57.js"><link rel="prefetch" href="/assets/js/69.224f76d1.js"><link rel="prefetch" href="/assets/js/70.82f3eb85.js"><link rel="prefetch" href="/assets/js/72.2d58e986.js"><link rel="prefetch" href="/assets/js/73.42610102.js"><link rel="prefetch" href="/assets/js/74.30bbdaed.js"><link rel="prefetch" href="/assets/js/75.17d1d33f.js"><link rel="prefetch" href="/assets/js/76.8fbbea2b.js"><link rel="prefetch" href="/assets/js/77.a6823a1b.js"><link rel="prefetch" href="/assets/js/78.46433cfa.js"><link rel="prefetch" href="/assets/js/79.55a00ab9.js"><link rel="prefetch" href="/assets/js/8.c15eba7e.js"><link rel="prefetch" href="/assets/js/80.8ef3f81f.js"><link rel="prefetch" href="/assets/js/81.3863de6d.js"><link rel="prefetch" href="/assets/js/82.421d92d3.js"><link rel="prefetch" href="/assets/js/83.f588ca52.js"><link rel="prefetch" href="/assets/js/84.47018fbc.js"><link rel="prefetch" href="/assets/js/9.32d4a25b.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.73629372.js">
    <link rel="stylesheet" href="/assets/css/0.styles.9d8bef43.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container no-sidebar" data-v-7dd95ae2><div data-v-7dd95ae2><div class="password-shadow password-wrapper-out" style="display:none;" data-v-59e6cb88 data-v-7dd95ae2 data-v-7dd95ae2><h3 class="title" data-v-59e6cb88>FeliksLv的博客</h3> <p class="description" data-v-59e6cb88>记录学习过程，分享生活琐碎。</p> <label id="box" class="inputBox" data-v-59e6cb88><input type="password" value="" data-v-59e6cb88> <span data-v-59e6cb88>Konck! Knock!</span> <button data-v-59e6cb88>OK</button></label> <div class="footer" data-v-59e6cb88><span data-v-59e6cb88><i class="iconfont reco-theme" data-v-59e6cb88></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-59e6cb88>vuePress-theme-reco</a></span> <span data-v-59e6cb88><i class="iconfont reco-copyright" data-v-59e6cb88></i> <a data-v-59e6cb88><span data-v-59e6cb88>FeliksLv</span>
          
        <span data-v-59e6cb88>2019 - </span>
        2023
      </a></span></div></div> <div class="hide" data-v-7dd95ae2><header class="navbar" data-v-7dd95ae2><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/logo.png" alt="FeliksLv的博客" class="logo"> <span class="site-name">FeliksLv的博客</span></a> <div class="links"><div class="color-picker"><a class="color-button"><i class="iconfont reco-color"></i></a> <div class="color-picker-menu" style="display:none;"><div class="mode-options"><h4 class="title">Choose mode</h4> <ul class="color-mode-options"><li class="dark">dark</li><li class="auto active">auto</li><li class="light">light</li></ul></div></div></div> <div class="search-box"><i class="iconfont reco-search"></i> <input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link"><i class="iconfont reco-home"></i>
  主页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-category"></i>
      分类
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/categories/后端/" class="nav-link"><i class="undefined"></i>
  后端
</a></li><li class="dropdown-item"><!----> <a href="/categories/公共基础/" class="nav-link"><i class="undefined"></i>
  公共基础
</a></li><li class="dropdown-item"><!----> <a href="/categories/客户端/" class="nav-link"><i class="undefined"></i>
  客户端
</a></li><li class="dropdown-item"><!----> <a href="/categories/前端/" class="nav-link"><i class="undefined"></i>
  前端
</a></li></ul></div></div><div class="nav-item"><a href="/tag/" class="nav-link"><i class="iconfont reco-tag"></i>
  标签
</a></div><div class="nav-item"><a href="/timeline/" class="nav-link"><i class="iconfont reco-date"></i>
  时间线
</a></div><div class="nav-item"><a href="/others/about.html" class="nav-link"><i class="iconfont reco-account"></i>
  关于
</a></div> <!----></nav></div></header> <div class="sidebar-mask" data-v-7dd95ae2></div> <aside class="sidebar" data-v-7dd95ae2><div class="personal-info-wrapper" data-v-1fad0c41 data-v-7dd95ae2><img src="/avatar.png" alt="author-avatar" class="personal-img" data-v-1fad0c41> <h3 class="name" data-v-1fad0c41>
    FeliksLv
  </h3> <div class="num" data-v-1fad0c41><div data-v-1fad0c41><h3 data-v-1fad0c41>34</h3> <h6 data-v-1fad0c41>文章</h6></div> <div data-v-1fad0c41><h3 data-v-1fad0c41>19</h3> <h6 data-v-1fad0c41>标签</h6></div></div> <ul class="social-links" data-v-1fad0c41></ul> <hr data-v-1fad0c41></div> <nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link"><i class="iconfont reco-home"></i>
  主页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-category"></i>
      分类
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/categories/后端/" class="nav-link"><i class="undefined"></i>
  后端
</a></li><li class="dropdown-item"><!----> <a href="/categories/公共基础/" class="nav-link"><i class="undefined"></i>
  公共基础
</a></li><li class="dropdown-item"><!----> <a href="/categories/客户端/" class="nav-link"><i class="undefined"></i>
  客户端
</a></li><li class="dropdown-item"><!----> <a href="/categories/前端/" class="nav-link"><i class="undefined"></i>
  前端
</a></li></ul></div></div><div class="nav-item"><a href="/tag/" class="nav-link"><i class="iconfont reco-tag"></i>
  标签
</a></div><div class="nav-item"><a href="/timeline/" class="nav-link"><i class="iconfont reco-date"></i>
  时间线
</a></div><div class="nav-item"><a href="/others/about.html" class="nav-link"><i class="iconfont reco-account"></i>
  关于
</a></div> <!----></nav> <!----> </aside> <div class="password-shadow password-wrapper-in" style="display:none;" data-v-59e6cb88 data-v-7dd95ae2><h3 class="title" data-v-59e6cb88>SDWebImage源码阅读</h3> <!----> <label id="box" class="inputBox" data-v-59e6cb88><input type="password" value="" data-v-59e6cb88> <span data-v-59e6cb88>Konck! Knock!</span> <button data-v-59e6cb88>OK</button></label> <div class="footer" data-v-59e6cb88><span data-v-59e6cb88><i class="iconfont reco-theme" data-v-59e6cb88></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-59e6cb88>vuePress-theme-reco</a></span> <span data-v-59e6cb88><i class="iconfont reco-copyright" data-v-59e6cb88></i> <a data-v-59e6cb88><span data-v-59e6cb88>FeliksLv</span>
          
        <span data-v-59e6cb88>2019 - </span>
        2023
      </a></span></div></div> <div data-v-7dd95ae2><div data-v-7dd95ae2><main class="page" style="padding-right:0;"><section style="display:;"><div class="page-title"><h1 class="title">SDWebImage源码阅读</h1> <div data-v-8a445198><i class="iconfont reco-account" data-v-8a445198><span data-v-8a445198>FeliksLv</span></i> <i class="iconfont reco-date" data-v-8a445198><span data-v-8a445198>2022/8/13</span></i> <!----> <i class="tags iconfont reco-tag" data-v-8a445198><span class="tag-item" data-v-8a445198>iOS</span></i></div></div> <div class="theme-reco-content content__default"><p><a href="https://blog.csdn.net/allanGold/article/details/103562722" target="_blank" rel="noopener noreferrer">https://blog.csdn.net/allanGold/article/details/103562722<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h2 id="判断当前线程是不是主线程"><a href="#判断当前线程是不是主线程" class="header-anchor">#</a> 判断当前线程是不是主线程</h2> <p>对于当前是否在主线程，很多时候我们可能直接使用 <code>Thread.isMainThread</code>来判断，但实际上，这是存在一些问题的。首先我们得了解一下以下几个问题。</p> <ol><li>主线程和主队列的关系</li> <li>为什么通过 dispatch_get_main_queue() 就可以确保在代码在主线程执行</li> <li>主线程是否可以执行非主队列里的任务</li></ol> <p>在需要进行主线程操作的时候，我们经常会这样做</p> <div class="language-objc line-numbers-mode"><pre class="language-objc"><code><span class="token function">dispatch_async</span><span class="token punctuation">(</span><span class="token function">dispatch_get_main_queue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token operator">^</span><span class="token punctuation">{</span>
  <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;Test&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>主队列是系统自动为我们创建的一个串行队列，在每个应用内只有一个主队列，专门负责处理主线程里的操作。主队列里的任务，即使是异步的，也只能在主线程中执行。</p> <div class="language-objc line-numbers-mode"><pre class="language-objc"><code><span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>test <span class="token punctuation">{</span>
    <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;begin&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span> <span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">10</span><span class="token punctuation">;</span> i <span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">dispatch_sync</span><span class="token punctuation">(</span><span class="token function">dispatch_get_main_queue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token operator">^</span><span class="token punctuation">{</span>
            <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;current Thread: %@; Task: %@&quot;</span><span class="token punctuation">,</span><span class="token punctuation">[</span>NSThread currentThread<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token operator">@</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;end&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>运行以上代码，会先输出 begin 和 end，之后才会输出 current Thread 的信息，这是因为 block 内的任务是异步执行的，主线程会将当前方法(test)执行完成之后才会执行主队列的任务。</p> <p>但如果改成 sync 就会导致死锁。因为同步任务必须立即被执行，但是由于主线程的 test 方法还没有执行完成，主线程没法去处理主队列里的任务。<strong>也就是说，只有当主线程空闲时，才会调度队列中的任务在主线程执行</strong>。</p> <p>主队列的任务一定在主线程中执行。那么主线程可以执行非主队列的任务吗？</p> <div class="language-objc line-numbers-mode"><pre class="language-objc"><code><span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;isMainThread: %@&quot;</span><span class="token punctuation">,</span> <span class="token operator">@</span><span class="token punctuation">(</span><span class="token punctuation">[</span>NSThread isMainThread<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">dispatch_sync</span><span class="token punctuation">(</span><span class="token function">dispatch_get_global_queue</span><span class="token punctuation">(</span>DISPATCH_QUEUE_PRIORITY_DEFAULT<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token operator">^</span><span class="token punctuation">{</span>
    <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;isMainThread: %@&quot;</span><span class="token punctuation">,</span> <span class="token operator">@</span><span class="token punctuation">(</span><span class="token punctuation">[</span>NSThread isMainThread<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>在主队列中同步执行一个后台队，运行输出结果显示当前是在主线程上。这是因为并行队列同步执行的话，不会创建新的线程，只会在当前线程执行。所以即使<code>Thread.isMainThread</code>输出为 true，也不能确保当前的任务是主队列的任务。</p> <p>所以在 SDWebImage 中也是使用这种方法来判断的。</p> <div class="language-objc line-numbers-mode"><pre class="language-objc"><code><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">ifndef</span> <span class="token expression">dispatch_main_async_safe</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name function">dispatch_main_async_safe</span><span class="token expression"><span class="token punctuation">(</span>block<span class="token punctuation">)</span></span><span class="token punctuation">\</span>
    <span class="token expression"><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">dispatch_queue_get_label</span><span class="token punctuation">(</span>DISPATCH_CURRENT_QUEUE_LABEL<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token function">dispatch_queue_get_label</span><span class="token punctuation">(</span><span class="token function">dispatch_get_main_queue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span><span class="token punctuation">\</span>
        <span class="token expression"><span class="token function">block</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span><span class="token punctuation">\</span>
    <span class="token expression"><span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span></span><span class="token punctuation">\</span>
        <span class="token expression"><span class="token function">dispatch_async</span><span class="token punctuation">(</span><span class="token function">dispatch_get_main_queue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> block<span class="token punctuation">)</span><span class="token punctuation">;</span></span><span class="token punctuation">\</span>
    <span class="token expression"><span class="token punctuation">}</span></span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">endif</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>根据苹果官网的描述，可以通过以下方式将 block 在主队列中执行。<a href="https://developer.apple.com/documentation/dispatch/1452921-dispatch_get_main_queue" target="_blank" rel="noopener noreferrer">链接<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <blockquote><p>The system automatically creates the main queue and associates it with your application’s main thread. Your app uses one (and only one) of the following three approaches to invoke blocks submitted to the main queue:</p> <ul><li><p>Calling dispatch_main</p></li> <li><p>Calling UIApplicationMain (iOS) or NSApplicationMain (macOS)</p></li> <li><p>Using a CFRunLoopRef on the main thread</p></li></ul></blockquote></div></section> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated: </span> <span class="time">2022/9/11 18:27:36</span></div></footer> <!----> <div class="comments-wrapper"><!----></div></main></div> <!----></div> <ul class="sub-sidebar sub-sidebar-wrapper" style="width:0;" data-v-b57cc07c data-v-7dd95ae2></ul></div></div></div><div class="global-ui"><div class="back-to-ceiling" style="right:1rem;bottom:6rem;width:2.5rem;height:2.5rem;border-radius:.25rem;line-height:2.5rem;display:none;" data-v-c6073ba8 data-v-c6073ba8><svg t="1574745035067" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5404" class="icon" data-v-c6073ba8><path d="M526.60727968 10.90185116a27.675 27.675 0 0 0-29.21455937 0c-131.36607665 82.28402758-218.69155461 228.01873535-218.69155402 394.07834331a462.20625001 462.20625001 0 0 0 5.36959153 69.94390903c1.00431239 6.55289093-0.34802892 13.13561351-3.76865779 18.80351572-32.63518765 54.11355614-51.75690182 118.55860487-51.7569018 187.94566865a371.06718723 371.06718723 0 0 0 11.50484808 91.98906777c6.53300375 25.50556257 41.68394495 28.14064038 52.69160883 4.22606766 17.37162448-37.73630017 42.14135425-72.50938081 72.80769204-103.21549295 2.18761121 3.04276886 4.15646224 6.24463696 6.40373557 9.22774369a1871.4375 1871.4375 0 0 0 140.04691725 5.34970492 1866.36093723 1866.36093723 0 0 0 140.04691723-5.34970492c2.24727335-2.98310674 4.21612437-6.18497483 6.3937923-9.2178004 30.66633723 30.70611158 55.4360664 65.4791928 72.80769147 103.21549355 11.00766384 23.91457269 46.15860503 21.27949489 52.69160879-4.22606768a371.15156223 371.15156223 0 0 0 11.514792-91.99901164c0-69.36717486-19.13165746-133.82216804-51.75690182-187.92578088-3.42062944-5.66790279-4.76302748-12.26056868-3.76865837-18.80351632a462.20625001 462.20625001 0 0 0 5.36959269-69.943909c-0.00994388-166.08943902-87.32547796-311.81420293-218.6915546-394.09823051zM605.93803103 357.87693858a93.93749974 93.93749974 0 1 1-187.89594924 6.1e-7 93.93749974 93.93749974 0 0 1 187.89594924-6.1e-7z" p-id="5405" data-v-c6073ba8></path><path d="M429.50777625 765.63860547C429.50777625 803.39355007 466.44236686 1000.39046097 512.00932183 1000.39046097c45.56695499 0 82.4922232-197.00623328 82.5015456-234.7518555 0-37.75494459-36.9345906-68.35043303-82.4922232-68.34111062-45.57627738-0.00932239-82.52019037 30.59548842-82.51086798 68.34111062z" p-id="5406" data-v-c6073ba8></path></svg></div></div></div>
    <script src="/assets/js/app.fc150009.js" defer></script><script src="/assets/js/7.da247ea6.js" defer></script><script src="/assets/js/2.949693ee.js" defer></script><script src="/assets/js/1.ccfb4704.js" defer></script><script src="/assets/js/71.eaab3d41.js" defer></script>
  </body>
</html>
