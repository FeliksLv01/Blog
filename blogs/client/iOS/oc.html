<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>OC学习记录 | FeliksLv的博客</title>
    <meta name="generator" content="VuePress 1.9.10">
    <link rel="icon" href="/favicon.png">
    <meta name="description" content="记录学习过程，分享生活琐碎。">
    <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no">
    
    <link rel="preload" href="/assets/css/0.styles.9d8bef43.css" as="style"><link rel="preload" href="/assets/js/app.06a761d4.js" as="script"><link rel="preload" href="/assets/js/7.22ab79c7.js" as="script"><link rel="preload" href="/assets/js/2.9c3e5d23.js" as="script"><link rel="preload" href="/assets/js/1.8a281978.js" as="script"><link rel="preload" href="/assets/js/41.46d1ce75.js" as="script"><link rel="prefetch" href="/assets/js/10.3047a6a9.js"><link rel="prefetch" href="/assets/js/11.c1ee30f8.js"><link rel="prefetch" href="/assets/js/14.a74bdd26.js"><link rel="prefetch" href="/assets/js/15.d4811207.js"><link rel="prefetch" href="/assets/js/16.16732acc.js"><link rel="prefetch" href="/assets/js/17.83acc293.js"><link rel="prefetch" href="/assets/js/18.9e09da35.js"><link rel="prefetch" href="/assets/js/19.547b4419.js"><link rel="prefetch" href="/assets/js/20.9985bf84.js"><link rel="prefetch" href="/assets/js/21.544a170a.js"><link rel="prefetch" href="/assets/js/22.6ee7f53e.js"><link rel="prefetch" href="/assets/js/23.a6c4d0fc.js"><link rel="prefetch" href="/assets/js/24.6dfd25a0.js"><link rel="prefetch" href="/assets/js/25.0fb5d5aa.js"><link rel="prefetch" href="/assets/js/26.462eeb79.js"><link rel="prefetch" href="/assets/js/27.5638f16c.js"><link rel="prefetch" href="/assets/js/28.e6801d53.js"><link rel="prefetch" href="/assets/js/29.f988f2e7.js"><link rel="prefetch" href="/assets/js/3.9b347775.js"><link rel="prefetch" href="/assets/js/30.f11cbb73.js"><link rel="prefetch" href="/assets/js/31.7db6a1fb.js"><link rel="prefetch" href="/assets/js/32.1ffd5993.js"><link rel="prefetch" href="/assets/js/33.f9350f26.js"><link rel="prefetch" href="/assets/js/34.94b805b1.js"><link rel="prefetch" href="/assets/js/35.63eaeb2a.js"><link rel="prefetch" href="/assets/js/36.7e863855.js"><link rel="prefetch" href="/assets/js/37.f0709615.js"><link rel="prefetch" href="/assets/js/38.519e613c.js"><link rel="prefetch" href="/assets/js/39.976c4f9a.js"><link rel="prefetch" href="/assets/js/4.d1ad5875.js"><link rel="prefetch" href="/assets/js/40.2f46b4db.js"><link rel="prefetch" href="/assets/js/42.7324b1e7.js"><link rel="prefetch" href="/assets/js/43.a3872abf.js"><link rel="prefetch" href="/assets/js/44.dcd52267.js"><link rel="prefetch" href="/assets/js/45.b55556e1.js"><link rel="prefetch" href="/assets/js/46.5d06151c.js"><link rel="prefetch" href="/assets/js/47.bd6f099b.js"><link rel="prefetch" href="/assets/js/48.ef0330df.js"><link rel="prefetch" href="/assets/js/49.9c1b117a.js"><link rel="prefetch" href="/assets/js/5.4b357da7.js"><link rel="prefetch" href="/assets/js/50.fc71e908.js"><link rel="prefetch" href="/assets/js/51.aae3c14b.js"><link rel="prefetch" href="/assets/js/52.21674852.js"><link rel="prefetch" href="/assets/js/53.6329a050.js"><link rel="prefetch" href="/assets/js/54.212d9d2b.js"><link rel="prefetch" href="/assets/js/55.f1a8ad25.js"><link rel="prefetch" href="/assets/js/56.1922a9f6.js"><link rel="prefetch" href="/assets/js/57.f3fb1230.js"><link rel="prefetch" href="/assets/js/58.fdf5f4dd.js"><link rel="prefetch" href="/assets/js/59.d3216814.js"><link rel="prefetch" href="/assets/js/6.c61b90b5.js"><link rel="prefetch" href="/assets/js/60.1e6d7e2a.js"><link rel="prefetch" href="/assets/js/61.3384538d.js"><link rel="prefetch" href="/assets/js/62.10c0ffb6.js"><link rel="prefetch" href="/assets/js/63.3153e497.js"><link rel="prefetch" href="/assets/js/64.784f9ec4.js"><link rel="prefetch" href="/assets/js/65.d41fe416.js"><link rel="prefetch" href="/assets/js/66.aa549623.js"><link rel="prefetch" href="/assets/js/67.28a17036.js"><link rel="prefetch" href="/assets/js/68.ab4e61d8.js"><link rel="prefetch" href="/assets/js/69.09618933.js"><link rel="prefetch" href="/assets/js/70.b4cd684c.js"><link rel="prefetch" href="/assets/js/71.4f6737f7.js"><link rel="prefetch" href="/assets/js/72.a9067539.js"><link rel="prefetch" href="/assets/js/73.6f7048b0.js"><link rel="prefetch" href="/assets/js/74.2d3d93b9.js"><link rel="prefetch" href="/assets/js/75.bdb350d9.js"><link rel="prefetch" href="/assets/js/76.cedbab5c.js"><link rel="prefetch" href="/assets/js/77.8e803574.js"><link rel="prefetch" href="/assets/js/78.a45ee5f0.js"><link rel="prefetch" href="/assets/js/79.2c562a85.js"><link rel="prefetch" href="/assets/js/8.fdeb44ff.js"><link rel="prefetch" href="/assets/js/80.f0ae0486.js"><link rel="prefetch" href="/assets/js/81.3a77dd33.js"><link rel="prefetch" href="/assets/js/82.866b0982.js"><link rel="prefetch" href="/assets/js/83.59cf8f02.js"><link rel="prefetch" href="/assets/js/84.2a496593.js"><link rel="prefetch" href="/assets/js/85.f5099d38.js"><link rel="prefetch" href="/assets/js/86.9fa12591.js"><link rel="prefetch" href="/assets/js/9.800e3694.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.c2b0bf7c.js">
    <link rel="stylesheet" href="/assets/css/0.styles.9d8bef43.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container no-sidebar" data-v-7dd95ae2><div data-v-7dd95ae2><div class="password-shadow password-wrapper-out" style="display:none;" data-v-59e6cb88 data-v-7dd95ae2 data-v-7dd95ae2><h3 class="title" data-v-59e6cb88>FeliksLv的博客</h3> <p class="description" data-v-59e6cb88>记录学习过程，分享生活琐碎。</p> <label id="box" class="inputBox" data-v-59e6cb88><input type="password" value="" data-v-59e6cb88> <span data-v-59e6cb88>Konck! Knock!</span> <button data-v-59e6cb88>OK</button></label> <div class="footer" data-v-59e6cb88><span data-v-59e6cb88><i class="iconfont reco-theme" data-v-59e6cb88></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-59e6cb88>vuePress-theme-reco</a></span> <span data-v-59e6cb88><i class="iconfont reco-copyright" data-v-59e6cb88></i> <a data-v-59e6cb88><span data-v-59e6cb88>FeliksLv</span>
          
        <span data-v-59e6cb88>2019 - </span>
        2025
      </a></span></div></div> <div class="hide" data-v-7dd95ae2><header class="navbar" data-v-7dd95ae2><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/logo.png" alt="FeliksLv的博客" class="logo"> <span class="site-name">FeliksLv的博客</span></a> <div class="links"><div class="color-picker"><a class="color-button"><i class="iconfont reco-color"></i></a> <div class="color-picker-menu" style="display:none;"><div class="mode-options"><h4 class="title">Choose mode</h4> <ul class="color-mode-options"><li class="dark">dark</li><li class="auto active">auto</li><li class="light">light</li></ul></div></div></div> <div class="search-box"><i class="iconfont reco-search"></i> <input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link"><i class="iconfont reco-home"></i>
  主页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-category"></i>
      分类
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/categories/后端/" class="nav-link"><i class="undefined"></i>
  后端
</a></li><li class="dropdown-item"><!----> <a href="/categories/公共基础/" class="nav-link"><i class="undefined"></i>
  公共基础
</a></li><li class="dropdown-item"><!----> <a href="/categories/客户端/" class="nav-link"><i class="undefined"></i>
  客户端
</a></li><li class="dropdown-item"><!----> <a href="/categories/前端/" class="nav-link"><i class="undefined"></i>
  前端
</a></li></ul></div></div><div class="nav-item"><a href="/tag/" class="nav-link"><i class="iconfont reco-tag"></i>
  标签
</a></div><div class="nav-item"><a href="/timeline/" class="nav-link"><i class="iconfont reco-date"></i>
  时间线
</a></div><div class="nav-item"><a href="/others/about.html" class="nav-link"><i class="iconfont reco-account"></i>
  关于
</a></div> <!----></nav></div></header> <div class="sidebar-mask" data-v-7dd95ae2></div> <aside class="sidebar" data-v-7dd95ae2><div class="personal-info-wrapper" data-v-1fad0c41 data-v-7dd95ae2><img src="/avatar.png" alt="author-avatar" class="personal-img" data-v-1fad0c41> <h3 class="name" data-v-1fad0c41>
    FeliksLv
  </h3> <div class="num" data-v-1fad0c41><div data-v-1fad0c41><h3 data-v-1fad0c41>35</h3> <h6 data-v-1fad0c41>文章</h6></div> <div data-v-1fad0c41><h3 data-v-1fad0c41>19</h3> <h6 data-v-1fad0c41>标签</h6></div></div> <ul class="social-links" data-v-1fad0c41></ul> <hr data-v-1fad0c41></div> <nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link"><i class="iconfont reco-home"></i>
  主页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-category"></i>
      分类
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/categories/后端/" class="nav-link"><i class="undefined"></i>
  后端
</a></li><li class="dropdown-item"><!----> <a href="/categories/公共基础/" class="nav-link"><i class="undefined"></i>
  公共基础
</a></li><li class="dropdown-item"><!----> <a href="/categories/客户端/" class="nav-link"><i class="undefined"></i>
  客户端
</a></li><li class="dropdown-item"><!----> <a href="/categories/前端/" class="nav-link"><i class="undefined"></i>
  前端
</a></li></ul></div></div><div class="nav-item"><a href="/tag/" class="nav-link"><i class="iconfont reco-tag"></i>
  标签
</a></div><div class="nav-item"><a href="/timeline/" class="nav-link"><i class="iconfont reco-date"></i>
  时间线
</a></div><div class="nav-item"><a href="/others/about.html" class="nav-link"><i class="iconfont reco-account"></i>
  关于
</a></div> <!----></nav> <!----> </aside> <div class="password-shadow password-wrapper-in" style="display:none;" data-v-59e6cb88 data-v-7dd95ae2><h3 class="title" data-v-59e6cb88>OC学习记录</h3> <!----> <label id="box" class="inputBox" data-v-59e6cb88><input type="password" value="" data-v-59e6cb88> <span data-v-59e6cb88>Konck! Knock!</span> <button data-v-59e6cb88>OK</button></label> <div class="footer" data-v-59e6cb88><span data-v-59e6cb88><i class="iconfont reco-theme" data-v-59e6cb88></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-59e6cb88>vuePress-theme-reco</a></span> <span data-v-59e6cb88><i class="iconfont reco-copyright" data-v-59e6cb88></i> <a data-v-59e6cb88><span data-v-59e6cb88>FeliksLv</span>
          
        <span data-v-59e6cb88>2019 - </span>
        2025
      </a></span></div></div> <div data-v-7dd95ae2><div data-v-7dd95ae2><main class="page"><section style="display:;"><div class="page-title"><h1 class="title">OC学习记录</h1> <div data-v-8a445198><i class="iconfont reco-account" data-v-8a445198><span data-v-8a445198>FeliksLv</span></i> <i class="iconfont reco-date" data-v-8a445198><span data-v-8a445198>2022/2/21</span></i> <!----> <i class="tags iconfont reco-tag" data-v-8a445198><span class="tag-item" data-v-8a445198>OC</span><span class="tag-item" data-v-8a445198>iOS</span></i></div></div> <div class="theme-reco-content content__default"><p>记录一些函数和语法。。。</p> <h2 id="一些基础-c-函数"><a href="#一些基础-c-函数" class="header-anchor">#</a> 一些基础 C 函数</h2> <h3 id="sleep"><a href="#sleep" class="header-anchor">#</a> sleep</h3> <p>用于等待指定的秒数，在<code>unistd.h</code>中声明</p> <h3 id="atoi"><a href="#atoi" class="header-anchor">#</a> atoi</h3> <p>获取一个字符串后将它转换成整数，如果不能转换，就返回 0。</p> <div class="language-c line-numbers-mode"><pre class="language-c"><code><span class="token keyword">int</span> num <span class="token operator">=</span> <span class="token function">atoi</span><span class="token punctuation">(</span><span class="token string">&quot;23&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="modf"><a href="#modf" class="header-anchor">#</a> modf</h3> <p>返回浮点数的整数部分和小数部分，整数部分通过引用传递。</p> <div class="language-c line-numbers-mode"><pre class="language-c"><code><span class="token keyword">double</span> pi <span class="token operator">=</span> <span class="token number">3.14</span><span class="token punctuation">;</span>
<span class="token keyword">double</span> integerPart<span class="token punctuation">;</span>
<span class="token keyword">double</span> fractionPart <span class="token operator">=</span> <span class="token function">modf</span><span class="token punctuation">(</span>pi<span class="token punctuation">,</span> <span class="token operator">&amp;</span>integerPart<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;%.0f, %.2f\n&quot;</span><span class="token punctuation">,</span> integerPart<span class="token punctuation">,</span> fractionPart<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="time-和-localtime-r"><a href="#time-和-localtime-r" class="header-anchor">#</a> time 和 localtime_r</h3> <p><code>time</code>函数返回英国格林尼治时间从 1970 到当前累计时间。<code>localtime_r</code>函数可以读取当前秒数。<code>localtime_r</code>有两个形式参数，分别是 time_t 类型变量的地址和 struct tm 类型变量的地址。</p> <div class="language-c line-numbers-mode"><pre class="language-c"><code> <span class="token keyword">long</span> t <span class="token operator">=</span> <span class="token function">time</span><span class="token punctuation">(</span><span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;%ld\n&quot;</span><span class="token punctuation">,</span> t<span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token keyword">struct</span> <span class="token class-name">tm</span> now<span class="token punctuation">;</span>
 <span class="token function">localtime_r</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>t<span class="token punctuation">,</span> <span class="token operator">&amp;</span>now<span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;The time is %d:%d:%d\n&quot;</span><span class="token punctuation">,</span> now<span class="token punctuation">.</span>tm_hour<span class="token punctuation">,</span> now<span class="token punctuation">.</span>tm_min<span class="token punctuation">,</span> now<span class="token punctuation">.</span>tm_sec<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h2 id="oc-部分"><a href="#oc-部分" class="header-anchor">#</a> OC 部分</h2> <h3 id="import-指令"><a href="#import-指令" class="header-anchor">#</a> import 指令</h3> <p>这是一个预处理指令，是 include 的增强版，将文件的内容在预编译的时候拷贝写指令的地方。同一个文件无论 import 多少次，只会包含一次。</p> <h3 id="nslog"><a href="#nslog" class="header-anchor">#</a> NSLog</h3> <p>printf 增强版，用于输出一些调试信息。</p> <ul><li>执行这段代码的时间</li> <li>程序的名称</li> <li>进程编号</li> <li>线程编号</li> <li>输出的信息</li></ul> <h3 id="oc-程序编译"><a href="#oc-程序编译" class="header-anchor">#</a> OC 程序编译</h3> <p>使用编译器将源代码编译成目标文件</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>cc <span class="token parameter variable">-cxx.m</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li>预处理</li> <li>检查语法</li> <li>编译</li></ul> <p>链接</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>cc xx.o
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>如果程序中使用了框架中的函数或者类，那么在链接的时候，就必须要告诉编译器，去框架中寻找那个类。</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>cc xx.o <span class="token parameter variable">-framework</span> 框架名称
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>链接成功之后，会生成一个 a.out 可执行文件。</p> <h3 id="内存中的五大区域"><a href="#内存中的五大区域" class="header-anchor">#</a> 内存中的五大区域</h3> <ul><li>栈 存储局部变量</li> <li>堆 手动申请的字节空间 malloc、calloc、realloc</li> <li>BSS 段 存储未被初始化或初始化为 0 的全局变量 静态变量</li> <li>Data 段(常量段) 存储已经被初始化的全局、静态变量 常量数据</li> <li>代码段 存储代码</li></ul> <h3 id="id"><a href="#id" class="header-anchor">#</a> id</h3> <p>当声明指向对象的指针时，通常都会明确地写出相应对象的类：</p> <div class="language-objc line-numbers-mode"><pre class="language-objc"><code>NSDate <span class="token operator">*</span>expiration<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>当声明的指针不知道所指对象的准确类型时，可以使用 id 类型，id 类型的含义是：可以指向任意类型 Objective-C 对象的指针。id 已经隐含了星号的作用。</p> <div class="language-objc line-numbers-mode"><pre class="language-objc"><code>id delegate<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h4 id="nsobject-和-id-的区别"><a href="#nsobject-和-id-的区别" class="header-anchor">#</a> NSObject 和 id 的区别</h4> <p>相同点：万能指针 都可以指向任意的 oc 对象</p> <p>不同点： 通过 NSObject 指针去调用对象方法的时候，编译器会做编译检查。通过 id 类型去调用对象方法的时候，编译器会直接通过。</p> <p>注意：id 指针只能调用对象的方法，不能使用点语法，如果使用点语法就会直接编译错误。</p> <h3 id="nsstring"><a href="#nsstring" class="header-anchor">#</a> NSString</h3> <h4 id="创建字符串实例"><a href="#创建字符串实例" class="header-anchor">#</a> 创建字符串实例</h4> <div class="language-objc line-numbers-mode"><pre class="language-objc"><code>NSString <span class="token operator">*</span>lament <span class="token operator">=</span> <span class="token string">@&quot;Why me?&quot;</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><code>@&quot;...&quot;</code>是 OC 中的一个缩写，代表根据给定的字符串创建一个<code>NSString</code>对象。这种缩写为字面量语法。</p> <h4 id="创建动态字符串"><a href="#创建动态字符串" class="header-anchor">#</a> 创建动态字符串</h4> <div class="language-objc line-numbers-mode"><pre class="language-objc"><code>NSString <span class="token operator">*</span>dateStr <span class="token operator">=</span> <span class="token punctuation">[</span>NSString stringWithFormat<span class="token punctuation">:</span> <span class="token string">@&quot;The date is %@&quot;</span><span class="token punctuation">,</span> now<span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h4 id="nsstring-方法"><a href="#nsstring-方法" class="header-anchor">#</a> NSString 方法</h4> <div class="language-objc line-numbers-mode"><pre class="language-objc"><code>NSString <span class="token operator">*</span>str <span class="token operator">=</span> <span class="token string">@&quot;Hello World&quot;</span><span class="token punctuation">;</span>
<span class="token comment">// 获取长度</span>
NSUInteger count <span class="token operator">=</span> <span class="token punctuation">[</span>str length<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;%lu&quot;</span><span class="token punctuation">,</span> count<span class="token punctuation">)</span><span class="token punctuation">;</span>
NSString <span class="token operator">*</span>temp <span class="token operator">=</span> <span class="token string">@&quot;123&quot;</span><span class="token punctuation">;</span>
<span class="token comment">// 判断字符串是否相同</span>
<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token punctuation">[</span>temp isEqualToString<span class="token punctuation">:</span> str<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;equal&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// 返回原字符串大写版本</span>
NSString <span class="token operator">*</span>upper <span class="token operator">=</span> <span class="token punctuation">[</span>str uppercaseString<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;%@&quot;</span><span class="token punctuation">,</span> upper<span class="token punctuation">)</span><span class="token punctuation">;</span>

NSString<span class="token operator">*</span> str <span class="token operator">=</span> <span class="token string">@&quot;test\n123\n&quot;</span><span class="token punctuation">;</span>
NSArray <span class="token operator">*</span>array <span class="token operator">=</span> <span class="token punctuation">[</span>str componentsSeparatedByString<span class="token punctuation">:</span><span class="token string">@&quot;\n&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span>NSString<span class="token operator">*</span> str <span class="token keyword">in</span> array<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;%@&quot;</span><span class="token punctuation">,</span> str<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><h3 id="nsarray-nsmutablearray"><a href="#nsarray-nsmutablearray" class="header-anchor">#</a> NSArray/NSMutableArray</h3> <p>创建 NSArray，使用字面量语法。</p> <div class="language-objc line-numbers-mode"><pre class="language-objc"><code>NSDate <span class="token operator">*</span>now <span class="token operator">=</span> <span class="token punctuation">[</span>NSDate date<span class="token punctuation">]</span><span class="token punctuation">;</span>
NSDate <span class="token operator">*</span>tomorrow <span class="token operator">=</span> <span class="token punctuation">[</span>now dateByAddingTimeInterval<span class="token punctuation">:</span><span class="token number">24.0</span><span class="token operator">*</span><span class="token number">60.0</span><span class="token operator">*</span><span class="token number">60.0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
NSDate <span class="token operator">*</span>yesterday <span class="token operator">=</span> <span class="token punctuation">[</span>now dateByAddingTimeInterval<span class="token punctuation">:</span><span class="token operator">-</span><span class="token number">24.0</span><span class="token operator">*</span><span class="token number">60.0</span><span class="token operator">*</span><span class="token number">60.0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
NSArray <span class="token operator">*</span>dateList <span class="token operator">=</span> <span class="token operator">@</span><span class="token punctuation">[</span>now<span class="token punctuation">,</span> tomorrow<span class="token punctuation">,</span> yesterday<span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;%@&quot;</span><span class="token punctuation">,</span> dateList<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 获取数组中的元素个数</span>
<span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;%@&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>dateList count<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>NSArray 实例是无法改变的，一旦被创建，就无法添加或者删除。</p> <p>创建 NSMutableArray</p> <div class="language-objc line-numbers-mode"><pre class="language-objc"><code>NSMutableArray <span class="token operator">*</span>dateList <span class="token operator">=</span> <span class="token punctuation">[</span>NSMutableArray array<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">[</span>dateList addObject<span class="token punctuation">:</span> now<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">[</span>dateList addObject<span class="token punctuation">:</span> tomorrow<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">[</span>dateList insertObject<span class="token punctuation">:</span> yesterday atIndex<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">[</span>dateList removeObjectAtIndex<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h4 id="快速枚举"><a href="#快速枚举" class="header-anchor">#</a> 快速枚举</h4> <div class="language-objc line-numbers-mode"><pre class="language-objc"><code><span class="token keyword">for</span> <span class="token punctuation">(</span>NSDate <span class="token operator">*</span>d <span class="token keyword">in</span> dateList<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;%@&quot;</span><span class="token punctuation">,</span> d<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="类加载"><a href="#类加载" class="header-anchor">#</a> 类加载</h3> <ul><li><p>当某个类第一次被访问时，会被加载到代码段，这个过程叫类加载</p></li> <li><p>执行方法的 4 步：</p> <ol><li>将方法加载到代码段</li> <li>声明方法的参数到栈</li> <li>把实参的值赋值给形参</li></ol></li> <li><p>类一旦被加载到代码段之后，是不会被回收的，除非程序结束。</p></li></ul> <h3 id="对象在内存中的存储"><a href="#对象在内存中的存储" class="header-anchor">#</a> 对象在内存中的存储</h3> <div class="language-objc line-numbers-mode"><pre class="language-objc"><code>Person <span class="token operator">*</span>p1 <span class="token operator">=</span> <span class="token punctuation">[</span>Person new<span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ol><li>Person *p1; 会在栈中申请一块空间。在栈内存中声明一个 Person 类型的指针变量 p1。</li> <li>[Person new]; 真正在内存中创建对象的是这句代码。new 做了下面几件事情。</li></ol> <blockquote><ol><li>在堆内存中申请一块合适大小的空间。</li> <li>在这个空间中根据类的模版创建对象。类模版中定义了哪些属性，就把这些属性依次声明在对象之中。对象中还有另外一个属性，叫做<code>isa</code>，是一个指针，它指向对象所属的类在代码段中的地址。</li> <li>初始化对象的属性，如果属性的类型是基本数据类型，那么就赋值为 0，如果属性的类型是 C 语言的指针类型，就赋值为 NULL，如果属性的类型是 OC 的类指针类型，那么就赋值为 nil。</li> <li>返回对象的地址</li></ol></blockquote> <p>注意事项</p> <ul><li>对象中只有属性，而没有方法，自己类的属性外加 1 个 isa 指针指向代码段中的类。</li> <li>如何访问对象的属性
指针名 -&gt; 属性名
根据指针，找到指针指向的对象，再找到对象中的属性类访问。</li> <li>如何调用方法
[指针名 方法名];
先根据指针名找到对象，对象发现要调用方法，再根据对象的 isa 指针找到类，然后调用类里的方法。</li></ul> <h3 id="self"><a href="#self" class="header-anchor">#</a> self</h3> <ol><li>当类第一次被访问时，会将类的代码存储在代码区，代码区中用来存储类的空间也有 1 个地址</li> <li>在类方法中，self 也是一个指针，指向这个类在代码段中的地址，self 在类方法中就相当于这个类</li> <li>可以查看 isa 指针的值，或者在类方法中查看 self 的值，调用对象的<code>class</code>方法，就会返回这个对象所属的类在代码段中的地址。调用类的<code>class</code>方法，也会返回这个类在代码段中的地址。</li> <li>可以在类中的类方法里通过 self 调用其他的类方法</li></ol> <h4 id="子类的存储"><a href="#子类的存储" class="header-anchor">#</a> 子类的存储</h4> <ul><li>子类对象中有自己的属性和所有父类的属性</li> <li>代码段中的每一个类都有一个<code>isa</code>指针，这个指针指向它的父类，一直指向<code>NSObject</code>。</li></ul> <h3 id="类的本质"><a href="#类的本质" class="header-anchor">#</a> 类的本质</h3> <p>在代码段中存储类的步骤：</p> <ol><li>先在代码段中创建 1 个 Class 对象，Class 是 Foundation 框架中的 1 个类。这个 Class 对象就是用来存储类信息的。</li> <li>将类的信息存储在这个 Class 对象之中。这个 Class 对象至少有 3 个属性，类名:存储的这个类的名称，属性:存储的这个类具有哪些属性，方法:存储的这个类具有哪些方法。</li></ol> <p>所以。类是以 Class 对象的形式存储在代码段的。存储类的这个 Class 对象我们也叫做类对象。用来存储类的 1 个对象。所以，存储类的类对象也有 1 个叫做 isa 指针的属性这个指针指向存储父类的类对象.</p> <div class="language-objc line-numbers-mode"><pre class="language-objc"><code>Class c1 <span class="token operator">=</span> <span class="token punctuation">[</span>Person class<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;c1 = %p&quot;</span><span class="token punctuation">,</span> c1<span class="token punctuation">)</span><span class="token punctuation">;</span>

Person <span class="token operator">*</span>p <span class="token operator">=</span> <span class="token punctuation">[</span>Person new<span class="token punctuation">]</span><span class="token punctuation">;</span>
Class c2 <span class="token operator">=</span> <span class="token punctuation">[</span>p class<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;c2 = %p&quot;</span><span class="token punctuation">,</span> c2<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><ul><li>调用类的类方法<code>class</code>，可以得到存储类的类对象的地址。</li> <li>调用对象的对象方法 <code>class</code>，就可以得到存储这个对象所属的类的 Class 对象的地址。</li> <li>对象中的 isa 指针的值其实就是代码段中存储类的类对象的地址。</li></ul> <p><strong>Class 指针在 typedef 的时候已经加了*，不需要在定义的时候加*。</strong></p> <h4 id="类对象的使用"><a href="#类对象的使用" class="header-anchor">#</a> 类对象的使用</h4> <p>使用类对象调用类的方法</p> <p>只能调用类方法，因为类对象就等价于存在其中的类。</p> <div class="language-objc line-numbers-mode"><pre class="language-objc"><code><span class="token comment">// c1就代表Person类</span>
Class c1 <span class="token operator">=</span> <span class="token punctuation">[</span>Person class<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">[</span>Person sayHi<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">[</span>c1 sayHi<span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>使用类对象来调用<code>new</code>方法</p> <div class="language-objc line-numbers-mode"><pre class="language-objc"><code>Person <span class="token operator">*</span>p1 <span class="token operator">=</span> <span class="token punctuation">[</span>Person new<span class="token punctuation">]</span><span class="token punctuation">;</span>
Class c1 <span class="token operator">=</span> <span class="token punctuation">[</span>Person class<span class="token punctuation">]</span><span class="token punctuation">;</span>
Person <span class="token operator">*</span>p2 <span class="token operator">=</span> <span class="token punctuation">[</span>c1 new<span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="方法的本质"><a href="#方法的本质" class="header-anchor">#</a> 方法的本质</h3> <p><code>SEL</code>全程叫做<code>selector</code>选择器，<code>SEL</code>是一个数据类型，需要在内存中申请空间存储数据。SEL 其实是一个类，SEL 对象用来存储一个方法的。</p> <p>方法的存储：</p> <ol><li>先创建 1 个 SEL 对象</li> <li>将方法的信息存储在这个 SEL 对象之中</li> <li>再将这个 SEL 对象作为类对象的属性</li></ol> <div class="language-objc line-numbers-mode"><pre class="language-objc"><code>SEL fun <span class="token operator">=</span> <span class="token keyword">@selector</span><span class="token punctuation">(</span>sayHi<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;sel = %p&quot;</span><span class="token punctuation">,</span> fun<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>方法的调用</p> <div class="language-objc line-numbers-mode"><pre class="language-objc"><code><span class="token punctuation">[</span>Person sayHi<span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ol><li>先拿到存储 sayHi 方法的 SEL 对象，也就是拿到存储 sayHi 方法的 SEL 数据，SEL 消息。</li> <li>将这个 SEL 消息发送给 p1 对象</li> <li>这个时候，p1 对象接收到这个 SEL 消息以后就要调用的方法。</li> <li>根据对象的 isa 指针找到存储类的类对象</li> <li>找到这个类以后，在这个类对象中去搜索是否有和传入的 SEL 数据相匹配的。如果有就执行，如果没有再找父类，直到 NSObject。</li></ol> <p>OC 最重要的机制，消息机制，调用方法的本质其实是为对象发送 SEL 对象。</p> <h4 id="手动为对象发送消息"><a href="#手动为对象发送消息" class="header-anchor">#</a> 手动为对象发送消息</h4> <ol><li>先得到 SEL 数据</li> <li>将这个 SEL 消息发送给 p1 对象</li> <li>调用对象的<code>performSelector</code>方法，结果和<code>[p sayHi]</code>一致。</li></ol> <div class="language-objc line-numbers-mode"><pre class="language-objc"><code>Person <span class="token operator">*</span>p <span class="token operator">=</span> <span class="token punctuation">[</span>Person new<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">[</span>p sayHi<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">[</span>p performSelector<span class="token punctuation">:</span>fun<span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>带参数函数调用</p> <div class="language-objc line-numbers-mode"><pre class="language-objc"><code>SEL fun <span class="token operator">=</span> <span class="token keyword">@selector</span><span class="token punctuation">(</span>setName<span class="token punctuation">:</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
Person <span class="token operator">*</span>p <span class="token operator">=</span> <span class="token punctuation">[</span>Person new<span class="token punctuation">]</span><span class="token punctuation">;</span>
NSString <span class="token operator">*</span>name <span class="token operator">=</span> <span class="token string">@&quot;jack&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">[</span>p performSelector<span class="token punctuation">:</span>fun withObject<span class="token punctuation">:</span> name<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;name = %@&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>p name<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="instancetype"><a href="#instancetype" class="header-anchor">#</a> instancetype</h3> <div class="language-objc line-numbers-mode"><pre class="language-objc"><code><span class="token operator">+</span> <span class="token punctuation">(</span>instancetype<span class="token punctuation">)</span> person <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">[</span><span class="token keyword">self</span> new<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>instancetype 只能作为方法的返回值，不能在别的地方使用。如果写成具体的类型，那么子类集成时，返回的就是父类的指针。</p> <h3 id="iskindofclass-ismemberofclass"><a href="#iskindofclass-ismemberofclass" class="header-anchor">#</a> isKindOfClass / isMemberOfClass</h3> <div class="language-objc line-numbers-mode"><pre class="language-objc"><code><span class="token operator">+</span> <span class="token punctuation">(</span>BOOL<span class="token punctuation">)</span>respondsToSelector<span class="token punctuation">:</span><span class="token punctuation">(</span>SEL<span class="token punctuation">)</span>aSelector<span class="token punctuation">;</span> <span class="token comment">// 判断对象中是否有这个方法可以执行</span>
<span class="token operator">+</span> <span class="token punctuation">(</span>BOOL<span class="token punctuation">)</span>instancesRespondToSelector<span class="token punctuation">:</span><span class="token punctuation">(</span>SEL<span class="token punctuation">)</span>aSelector<span class="token punctuation">;</span> <span class="token comment">// 判断类中是否有指定的类方法</span>
<span class="token operator">-</span> <span class="token punctuation">(</span>BOOL<span class="token punctuation">)</span>isKindOfClass<span class="token punctuation">:</span><span class="token punctuation">(</span>Class<span class="token punctuation">)</span>aClass<span class="token punctuation">;</span> <span class="token comment">// 判断是否是某类的对象或子类对象</span>
<span class="token operator">-</span> <span class="token punctuation">(</span>BOOL<span class="token punctuation">)</span>isMemberOfClass<span class="token punctuation">:</span><span class="token punctuation">(</span>Class<span class="token punctuation">)</span>aClass<span class="token punctuation">;</span> <span class="token comment">// 判断是否是某类的对象，不包括子类对象</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="构造方法"><a href="#构造方法" class="header-anchor">#</a> 构造方法</h3> <p><code>new</code>方法的内部，其实是先调用的<code>alloc</code>方法，再调用<code>init</code>方法。</p> <div class="language-objc line-numbers-mode"><pre class="language-objc"><code>Person <span class="token operator">*</span>p1 <span class="token operator">=</span> <span class="token punctuation">[</span>Person new<span class="token punctuation">]</span><span class="token punctuation">;</span>
Person <span class="token operator">*</span>p2 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span>Person alloc<span class="token punctuation">]</span> init<span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><code>init</code>方法：</p> <p>初始化对象，为对象的属性赋初始值，这个<code>init</code>方法我们叫做构造方法。</p> <h4 id="重写init方法的规范"><a href="#重写init方法的规范" class="header-anchor">#</a> 重写<code>init</code>方法的规范</h4> <ol><li>必须先调用父类的 init 方法，然后将方法的返回值赋值给 self</li> <li>调用 init 方法可能会失败，如果初始化失败，返回的是 nil</li> <li>如果初始化成功，基于初始化当前对象的属性</li> <li>最后返回 self 的值</li></ol> <div class="language-objc line-numbers-mode"><pre class="language-objc"><code><span class="token operator">-</span> <span class="token punctuation">(</span>instancetype<span class="token punctuation">)</span> init
<span class="token punctuation">{</span>
  <span class="token keyword">self</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token keyword">super</span> init<span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">self</span> <span class="token operator">!=</span> nil<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">self</span><span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">@&quot;jack&quot;</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> <span class="token keyword">self</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h4 id="自定义构造方法"><a href="#自定义构造方法" class="header-anchor">#</a> 自定义构造方法</h4> <div class="language-objc line-numbers-mode"><pre class="language-objc"><code><span class="token operator">-</span> <span class="token punctuation">(</span>instancetype<span class="token punctuation">)</span> initWithName<span class="token punctuation">:</span> <span class="token punctuation">(</span>NSString <span class="token operator">*</span><span class="token punctuation">)</span>name andAge<span class="token punctuation">:</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span> age
<span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">self</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token keyword">super</span> init<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">self</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
    <span class="token keyword">self</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h3 id="内存管理"><a href="#内存管理" class="header-anchor">#</a> 内存管理</h3> <p>栈：局部变量，当局部变量的作用域被执行完毕之后，这个局部变量就会被系统立即回收。</p> <p>堆：内存管理</p> <p>BSS 段：未初始化的全局变量、静态变量，一旦初始化就回收，并转存到数据段中。</p> <p>数据段：已经初始化得到全局变量、静态变量，直到程序结束才会被回收</p> <p>代码段：代码、程序结束的时候，系统会自动回收存储在代码段中的数据。</p> <p>栈、BSS 段、数据段、代码段中的数据，都是由系统自动完成回收。</p> <h4 id="引用计数"><a href="#引用计数" class="header-anchor">#</a> 引用计数</h4> <p>每一个对象都有 1 个属性，叫做<code>retainCount</code>，类型是 unsigned long 占 8 个字节。引用计数器的作用，用来记录当前这个对象有多少个人在使用。默认情况下，创建一个对象出来，它的计数器默认为 1。当这个对象的引用计数器变为 0 时，系统会自动回收这个对象。</p> <div class="language-objc line-numbers-mode"><pre class="language-objc"><code>Person <span class="token operator">*</span>p <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span>Person alloc<span class="token punctuation">]</span> init<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;count = %lu&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>p retainCount<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// count = 1</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>具体操作：</p> <ul><li>当对象发送一条 retain 消息，对象的引用计数器就会加 1</li> <li>当对象发送 1 条 release 消息时，对象的引用计数器减 1</li> <li>当对象的引用计数器变为 0 的时候，对象会被系统立即回收，在被回收的时候，会被调用对象的 dealloc 方法</li></ul> <p>内存管理分为<code>MRC</code>和<code>ARC</code>。</p> <p>MRC：Manual Referen Counting 手动引用计数</p> <p>ARC：Automatic Reference Counting 自动引用计数</p> <h3 id="mrc"><a href="#mrc" class="header-anchor">#</a> MRC</h3> <p>默认开启 ARC，需要将 Build Setting 中的 ARC 关闭之后，才能使用 MRC。具体操作见下图。</p> <p><img src="/assets/img/mrc.60bfc866.png" alt="mrc"></p> <p>实现一下类的<code>dealloc</code>方法。</p> <div class="language-objc line-numbers-mode"><pre class="language-objc"><code><span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>dealloc <span class="token punctuation">{</span>
    <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;dealloc&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">[</span><span class="token keyword">super</span> dealloc<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>在主函数中调用相关方法。</p> <div class="language-objc line-numbers-mode"><pre class="language-objc"><code>Person <span class="token operator">*</span>p <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span>Person alloc<span class="token punctuation">]</span> init<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;count = %lu&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>p retainCount<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// count = 1</span>
<span class="token punctuation">[</span>p retain<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;count = %lu&quot;</span><span class="token punctuation">,</span> p<span class="token punctuation">.</span>retainCount<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// count = 2</span>
<span class="token punctuation">[</span>p release<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">[</span>p release<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token comment">// dealloc</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p><code>release</code>消息并不是回收对象，而是让对象的引用计数器-1，当引用计数器为 0 的时候，才会回收对象。回收只是意味着对象所占用的空间可以分配给别人，但是空间里存储的数据还在。</p> <div class="language-objc line-numbers-mode"><pre class="language-objc"><code>Person <span class="token operator">*</span>p <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span>Person alloc<span class="token punctuation">]</span> init<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">[</span>p release<span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// retainCount = 0, dealloc</span>
<span class="token punctuation">[</span>p sayHi<span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// 可能还可以正常运行</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h4 id="野指针和僵尸对象"><a href="#野指针和僵尸对象" class="header-anchor">#</a> 野指针和僵尸对象</h4> <p>OC 中的野指针：指针指向的对象已经回收了，这样的指针叫做野指针。</p> <p>僵尸对象：1 个已经释放的对象，但是这个对象所占的空间还没有分配给别人，这样的对象叫做僵尸对象。</p> <p>当我们通过野指针去访问僵尸对象的时候，有可能有问题，也有可能没有问题。</p> <p>当僵尸对象占用的空间分配给了别人使用的时候，就不可以。</p> <h4 id="内存泄漏"><a href="#内存泄漏" class="header-anchor">#</a> 内存泄漏</h4> <p>指的是 1 个对象没有被及时的回收，在该回收的时候而没有被回收，一直驻留在内存中，直到程序结束的时候才回收。</p> <p>单个对象内存泄漏的情况：</p> <ul><li>有对象创建，没有对应的 release</li> <li>retain 和 release 的次数不匹配</li> <li>在不适当的时候，为指针赋值为 nil</li> <li>在方法当中为传入的对象进行不适当的 retain</li></ul> <p>如何确保单个对象可以被回收：</p> <ul><li>有对象的创建，就必须要匹配 1 个 release</li> <li>retain 次数和 release 次数一定要匹配</li> <li>只有在指针称为野指针的时候才能赋值为 nil</li> <li>在方法当中不要随意为传入的对象 retain</li></ul> <h4 id="oc-属性"><a href="#oc-属性" class="header-anchor">#</a> OC 属性</h4> <div class="language-objc line-numbers-mode"><pre class="language-objc"><code><span class="token keyword">@property</span> <span class="token punctuation">(</span>nonatomic<span class="token punctuation">,</span> retain<span class="token punctuation">)</span> NSString <span class="token operator">*</span>name<span class="token punctuation">;</span>
<span class="token keyword">@property</span> <span class="token punctuation">(</span>nonatomic<span class="token punctuation">,</span> assign<span class="token punctuation">)</span> <span class="token keyword">int</span> age<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><ul><li>assign: 默认值，生成的 setter 方法的实现就是直接赋值</li> <li>retain：生成的 setter 方法的实现是标准的 MRC 内存管理代码，也就是，先判断新旧对象是否为同 1 个对象，如果不是，release 旧的，retain 新的。</li></ul> <p>当属性的类型是 oc 对象类型的时候，使用 retain，否则用 assign</p> <p>注意:</p> <p>retain 参数，只是生成标准的 setter 方法为标准的 MRC 内存管理代码，不会自动的在 dealloc 中生成 release 方法，所以我们还要自己手动在 dealloc 中 release。</p> <p>readwrite 和 readonly</p> <p>readwrite 是默认值，代表同时生成 getter、setter</p> <p>readonly：只会生成 getter</p> <div class="language-objc line-numbers-mode"><pre class="language-objc"><code><span class="token keyword">@property</span> <span class="token punctuation">(</span>nonatomic<span class="token punctuation">,</span> assign<span class="token punctuation">,</span> getter<span class="token operator">=</span>xxx<span class="token punctuation">,</span> setter<span class="token operator">=</span>xyz<span class="token punctuation">)</span> <span class="token keyword">int</span> age<span class="token punctuation">;</span> <span class="token comment">// 指定getter setter方法名</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h5 id="自动释放池"><a href="#自动释放池" class="header-anchor">#</a> 自动释放池</h5> <p>存入自动释放池中的对象，在自动释放池被销毁的时候，会自动调用存储在该自动释放池中的所有对象的 release。</p> <h3 id="arc"><a href="#arc" class="header-anchor">#</a> ARC</h3> <p>在 ARC 机制下，当没有任何类型的强指针指向对象的时候，这个对象就会被立即回收。</p> <ul><li>指向对象的强指针被回收</li> <li>指向对象的强指针被赋值为 nil</li></ul> <p>在 ARC 下，property 不可以添加 retain 参数，属性默认是 strong。</p> <h3 id="分类"><a href="#分类" class="header-anchor">#</a> 分类</h3> <ul><li><p>在分类中可以写@property，但是不会自动生成私有属性，也不会自动生成 getter、setter 的实现，只会生成 getter、setter 的声明，需要自行实现</p></li> <li><p>在分类的方法实现中不可以直接访问本类的真私有属性（定义在 implementation 中），但是可以调用本类的 getter、setter 来访问属性</p></li> <li><p>当分类中有和本类同名的方法的时候，优先调用分类的方法，哪怕没有引入分类的文件，如果多个分类中有同名的方法，那么会调用最后编译的。</p></li></ul> <div class="language-objc line-numbers-mode"><pre class="language-objc"><code><span class="token keyword">@interface</span> <span class="token function">Person</span> <span class="token punctuation">(</span>grow<span class="token punctuation">)</span>

<span class="token keyword">@end</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="延展"><a href="#延展" class="header-anchor">#</a> 延展</h3> <div class="language-objc line-numbers-mode"><pre class="language-objc"><code><span class="token keyword">@interface</span> <span class="token function">Person</span> <span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token keyword">@end</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>本质上是一个分类，作为本类的一部分，只有声明，没有单独的实现，和本类共享一个对象。</p> <p>延展和分类的区别：</p> <ul><li>分类有名字，延展没有，是一个匿名的分类</li> <li>每一个分类都有单独的声明和实现，而延展只有声明，没有单独的实现，和本类共享一个实现</li> <li>分类中只能新增方法，而延展中任意的成员都可以写</li> <li>分类中可以写@property，但是只会生成 getter、setter 的声明，延展中写@property 会自动生成私有属性，也会生成 getter、setter</li></ul> <p>使用场景：</p> <ul><li>要为类写一个私有的@property，生成的 getter、setter 方法只有在类的内部访问，不能在外部访问</li> <li>延展 100%不会独占 1 个文件，都是将延展写在本类的实现文件中。这个时候，写在延展中的成员，就相当于这个类的私有成员，只能在本类的实现中访问。</li> <li>将私有方法声明在延展中，在本类中实现，提高代码的阅读性</li> <li>如果类的成员只希望在类内部访问，定义在延展中，希望在外部访问的话，定义在@interface 中</li></ul> <h3 id="block"><a href="#block" class="header-anchor">#</a> block</h3> <p>block 是一个数据类型，block 类型的变量中专门存储 1 段代码，这段代码可以有参数，也可以有返回值</p> <div class="language-objc line-numbers-mode"><pre class="language-objc"><code><span class="token keyword">void</span> <span class="token punctuation">(</span><span class="token operator">^</span>myblock<span class="token punctuation">)</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token operator">^</span><span class="token punctuation">{</span>
    <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;myblock&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> <span class="token punctuation">(</span><span class="token operator">^</span>myblock1<span class="token punctuation">)</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token operator">^</span><span class="token keyword">int</span> <span class="token punctuation">{</span>
    <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;myblock1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> <span class="token punctuation">(</span><span class="token operator">^</span>myblock2<span class="token punctuation">)</span> <span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token operator">^</span><span class="token keyword">int</span><span class="token punctuation">(</span><span class="token keyword">int</span> num1<span class="token punctuation">,</span> <span class="token keyword">int</span> num2<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> num1 <span class="token operator">+</span> num2<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>可以使用 typedef 来简化 block 的声明。</p> <div class="language-objc line-numbers-mode"><pre class="language-objc"><code><span class="token keyword">typedef</span> <span class="token keyword">void</span> <span class="token punctuation">(</span><span class="token operator">^</span>VoidBlock<span class="token punctuation">)</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
VoidBlock v <span class="token operator">=</span> <span class="token operator">^</span><span class="token keyword">void</span> <span class="token punctuation">{</span>
  <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;myblock&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>获取/修改外部变量</p> <ul><li>在 block 中可以获取外部局部变量和全局变量的值</li> <li>在 block 代码内部可以修改全局变量的值，但是不能外部局部变量的值</li> <li>给局部变量添加<code>__block</code>修饰符，就可以在 block 中修改</li></ul> <div class="language-objc line-numbers-mode"><pre class="language-objc"><code>__block <span class="token keyword">int</span> num <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> <span class="token punctuation">(</span><span class="token operator">^</span>myblock2<span class="token punctuation">)</span> <span class="token punctuation">(</span><span class="token keyword">int</span> num1<span class="token punctuation">,</span> <span class="token keyword">int</span> num2<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token operator">^</span><span class="token keyword">int</span><span class="token punctuation">(</span><span class="token keyword">int</span> num1<span class="token punctuation">,</span> <span class="token keyword">int</span> num2<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  num<span class="token operator">++</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> num1 <span class="token operator">+</span> num2<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>block 作为函数参数</p> <div class="language-objc line-numbers-mode"><pre class="language-objc"><code><span class="token keyword">typedef</span> <span class="token keyword">void</span> <span class="token punctuation">(</span><span class="token operator">^</span>VoidBlock<span class="token punctuation">)</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">void</span> <span class="token function">test</span><span class="token punctuation">(</span>VoidBlock testBlock<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">testBlock</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token function">test</span><span class="token punctuation">(</span><span class="token operator">^</span><span class="token punctuation">{</span>
  <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;Hello&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>block 作为函数返回值</p> <div class="language-objc line-numbers-mode"><pre class="language-objc"><code>VoidBlock <span class="token function">fun</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  VoidBlock res <span class="token operator">=</span> <span class="token operator">^</span><span class="token punctuation">{</span>
    <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;Hello World&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> res<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div></div></section> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated: </span> <span class="time">2022/7/6 00:42:53</span></div></footer> <!----> <div class="comments-wrapper"><!----></div></main></div> <!----></div> <ul class="sub-sidebar sub-sidebar-wrapper" style="width:12rem;" data-v-b57cc07c data-v-7dd95ae2><li class="level-2" data-v-b57cc07c><a href="/blogs/client/iOS/oc.html#一些基础-c-函数" class="sidebar-link reco-side-一些基础-c-函数" data-v-b57cc07c>一些基础 C 函数</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/client/iOS/oc.html#sleep" class="sidebar-link reco-side-sleep" data-v-b57cc07c>sleep</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/client/iOS/oc.html#atoi" class="sidebar-link reco-side-atoi" data-v-b57cc07c>atoi</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/client/iOS/oc.html#modf" class="sidebar-link reco-side-modf" data-v-b57cc07c>modf</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/client/iOS/oc.html#time-和-localtime-r" class="sidebar-link reco-side-time-和-localtime-r" data-v-b57cc07c>time 和 localtime_r</a></li><li class="level-2" data-v-b57cc07c><a href="/blogs/client/iOS/oc.html#oc-部分" class="sidebar-link reco-side-oc-部分" data-v-b57cc07c>OC 部分</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/client/iOS/oc.html#import-指令" class="sidebar-link reco-side-import-指令" data-v-b57cc07c>import 指令</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/client/iOS/oc.html#nslog" class="sidebar-link reco-side-nslog" data-v-b57cc07c>NSLog</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/client/iOS/oc.html#oc-程序编译" class="sidebar-link reco-side-oc-程序编译" data-v-b57cc07c>OC 程序编译</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/client/iOS/oc.html#内存中的五大区域" class="sidebar-link reco-side-内存中的五大区域" data-v-b57cc07c>内存中的五大区域</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/client/iOS/oc.html#id" class="sidebar-link reco-side-id" data-v-b57cc07c>id</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/client/iOS/oc.html#nsstring" class="sidebar-link reco-side-nsstring" data-v-b57cc07c>NSString</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/client/iOS/oc.html#nsarray-nsmutablearray" class="sidebar-link reco-side-nsarray-nsmutablearray" data-v-b57cc07c>NSArray/NSMutableArray</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/client/iOS/oc.html#类加载" class="sidebar-link reco-side-类加载" data-v-b57cc07c>类加载</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/client/iOS/oc.html#对象在内存中的存储" class="sidebar-link reco-side-对象在内存中的存储" data-v-b57cc07c>对象在内存中的存储</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/client/iOS/oc.html#self" class="sidebar-link reco-side-self" data-v-b57cc07c>self</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/client/iOS/oc.html#类的本质" class="sidebar-link reco-side-类的本质" data-v-b57cc07c>类的本质</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/client/iOS/oc.html#方法的本质" class="sidebar-link reco-side-方法的本质" data-v-b57cc07c>方法的本质</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/client/iOS/oc.html#instancetype" class="sidebar-link reco-side-instancetype" data-v-b57cc07c>instancetype</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/client/iOS/oc.html#iskindofclass-ismemberofclass" class="sidebar-link reco-side-iskindofclass-ismemberofclass" data-v-b57cc07c>isKindOfClass / isMemberOfClass</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/client/iOS/oc.html#构造方法" class="sidebar-link reco-side-构造方法" data-v-b57cc07c>构造方法</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/client/iOS/oc.html#内存管理" class="sidebar-link reco-side-内存管理" data-v-b57cc07c>内存管理</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/client/iOS/oc.html#mrc" class="sidebar-link reco-side-mrc" data-v-b57cc07c>MRC</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/client/iOS/oc.html#arc" class="sidebar-link reco-side-arc" data-v-b57cc07c>ARC</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/client/iOS/oc.html#分类" class="sidebar-link reco-side-分类" data-v-b57cc07c>分类</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/client/iOS/oc.html#延展" class="sidebar-link reco-side-延展" data-v-b57cc07c>延展</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/client/iOS/oc.html#block" class="sidebar-link reco-side-block" data-v-b57cc07c>block</a></li></ul></div></div></div><div class="global-ui"><div class="back-to-ceiling" style="right:1rem;bottom:6rem;width:2.5rem;height:2.5rem;border-radius:.25rem;line-height:2.5rem;display:none;" data-v-c6073ba8 data-v-c6073ba8><svg t="1574745035067" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5404" class="icon" data-v-c6073ba8><path d="M526.60727968 10.90185116a27.675 27.675 0 0 0-29.21455937 0c-131.36607665 82.28402758-218.69155461 228.01873535-218.69155402 394.07834331a462.20625001 462.20625001 0 0 0 5.36959153 69.94390903c1.00431239 6.55289093-0.34802892 13.13561351-3.76865779 18.80351572-32.63518765 54.11355614-51.75690182 118.55860487-51.7569018 187.94566865a371.06718723 371.06718723 0 0 0 11.50484808 91.98906777c6.53300375 25.50556257 41.68394495 28.14064038 52.69160883 4.22606766 17.37162448-37.73630017 42.14135425-72.50938081 72.80769204-103.21549295 2.18761121 3.04276886 4.15646224 6.24463696 6.40373557 9.22774369a1871.4375 1871.4375 0 0 0 140.04691725 5.34970492 1866.36093723 1866.36093723 0 0 0 140.04691723-5.34970492c2.24727335-2.98310674 4.21612437-6.18497483 6.3937923-9.2178004 30.66633723 30.70611158 55.4360664 65.4791928 72.80769147 103.21549355 11.00766384 23.91457269 46.15860503 21.27949489 52.69160879-4.22606768a371.15156223 371.15156223 0 0 0 11.514792-91.99901164c0-69.36717486-19.13165746-133.82216804-51.75690182-187.92578088-3.42062944-5.66790279-4.76302748-12.26056868-3.76865837-18.80351632a462.20625001 462.20625001 0 0 0 5.36959269-69.943909c-0.00994388-166.08943902-87.32547796-311.81420293-218.6915546-394.09823051zM605.93803103 357.87693858a93.93749974 93.93749974 0 1 1-187.89594924 6.1e-7 93.93749974 93.93749974 0 0 1 187.89594924-6.1e-7z" p-id="5405" data-v-c6073ba8></path><path d="M429.50777625 765.63860547C429.50777625 803.39355007 466.44236686 1000.39046097 512.00932183 1000.39046097c45.56695499 0 82.4922232-197.00623328 82.5015456-234.7518555 0-37.75494459-36.9345906-68.35043303-82.4922232-68.34111062-45.57627738-0.00932239-82.52019037 30.59548842-82.51086798 68.34111062z" p-id="5406" data-v-c6073ba8></path></svg></div></div></div>
    <script src="/assets/js/app.06a761d4.js" defer></script><script src="/assets/js/7.22ab79c7.js" defer></script><script src="/assets/js/2.9c3e5d23.js" defer></script><script src="/assets/js/1.8a281978.js" defer></script><script src="/assets/js/41.46d1ce75.js" defer></script>
  </body>
</html>
